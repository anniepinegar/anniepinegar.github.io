var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},SydFSCHelper;(function(n){function we(f){var kk=this,ri,ui,ei,oi,hi,ci,vi,yi,bi,di,gi,tr,ir,rr,er,or,sr,hr,o,lk,s,ru,g,ft,lt,vt,c,uu,fu,eu,tt,pt,ou,su,hu,kt,cu,lu,bt,dt,au,et,ni,ak,vu,yu,ff,pk,ti,wk,w,ot,st,ii,bk,b;f===void 0&&(f=null);o=_w._sydConvConfig;n.isConfigSet=!0;var sf=t(o===null||o===void 0?void 0:o.country,!1),hf=t(o===null||o===void 0?void 0:o.countryConfidence,!1),cf=t(o===null||o===void 0?void 0:o.state,!1),lf=t(o===null||o===void 0?void 0:o.city,!1),af=t(o===null||o===void 0?void 0:o.cityConfidence,!1),vf=t(o===null||o===void 0?void 0:o.zip,!1),yf=t(o===null||o===void 0?void 0:o.timezoneoffset,!1),dk=t(o===null||o===void 0?void 0:o.enableTimezoneOffsetFromJS,!1),pf=t(o===null||o===void 0?void 0:o.dma,!1),wf=t(o===null||o===void 0?void 0:o.lat,!1),bf=t(o===null||o===void 0?void 0:o.long,!1),gk=t(o===null||o===void 0?void 0:o.userIpAddress,u),nd=t(o===null||o===void 0?void 0:o.overrideSydOptions,!1),kf=t(o===null||o===void 0?void 0:o.sydOptionSets,!1),df=t(o===null||o===void 0?void 0:o.voiceSrOptions,u),gf=t(o===null||o===void 0?void 0:o.sydUrlPart,!1),ar=t(o===null||o===void 0?void 0:o.isSydCorpnet,!1),td=t(o===null||o===void 0?void 0:o.enableSydOverlay,!1),id=t(o===null||o===void 0?void 0:o.isVisualParityRun,!1),d=t(o===null||o===void 0?void 0:o.isMSAAuthenticated,!1),rt=t(o===null||o===void 0?void 0:o.isAADAuthenticated,!1),rd=t(o===null||o===void 0?void 0:o.userMailId,u),ud=t(o===null||o===void 0?void 0:o.username,u),ne=t(o===null||o===void 0?void 0:o.sydBaseUrl,!1,rf),fd=t(o===null||o===void 0?void 0:o.cmcBaseUrl,uf),ht=t(o===null||o===void 0?void 0:o.isCompliantSydneyEndpointEnabled,!1),vr=t(o===null||o===void 0?void 0:o.isBingChatForEnterprise,!1),ed=t(o===null||o===void 0?void 0:o.isBingChatForSchools,!1);p=ed||vr;yt=p&&t(o===null||o===void 0?void 0:o.bfbCookieChatConsented,!1);var te=t(o===null||o===void 0?void 0:o.sydIDs,u),ie=t(o===null||o===void 0?void 0:o.traceId,u),od=t(_w._sydConvTranslation,{}),sd=t(o===null||o===void 0?void 0:o.enableSydMic,!1,!0),yr=t(o===null||o===void 0?void 0:o.enableSydShare,!1),hd=t(o===null||o===void 0?void 0:o.enableAnswerBridgeShare,!1),cd=t(o===null||o===void 0?void 0:o.enableMessageShareableSignalV2,!1,!0),ld=t(o===null||o===void 0?void 0:o.addDv3Opt,!1,!0),ad=t(o===null||o===void 0?void 0:o.enable161Feats,!0),vd=t(o===null||o===void 0?void 0:o.enableAnsCardSuffix,!1,!0),yd=t(o===null||o===void 0?void 0:o.enableLikeSaveToBingPage,!1),pd=t(o===null||o===void 0?void 0:o.isAdultUser,!0),wd=t(o===null||o===void 0?void 0:o.isMissingDob,!1),bd=t(o===null||o===void 0?void 0:o.removeDSAT,!0),re=t(o===null||o===void 0?void 0:o.enableErrorTelemetry,!1,!0),ue=t(o===null||o===void 0?void 0:o.enableSpeechContinuousErrorHandling,!1,!0),he=t(o===null||o===void 0?void 0:o.enableSpeechErrorLoggingAsSystemEvent,!1,!0),ce=t(o===null||o===void 0?void 0:o.enableSpeechChatDataAfterPhrase,!1),br=t(o===null||o===void 0?void 0:o.enableSpeechEarconOnInput,!1),le=t(o===null||o===void 0?void 0:o.enableTTSOnSuggestionAfterVoice,!1),kd=t(o===null||o===void 0?void 0:o.enableTTSNeverSetting,!1,!0),dd=t(o===null||o===void 0?void 0:o.enableCustomizedTtsOptions,!1,!0),gd=t(o===null||o===void 0?void 0:o.enableCustomizedTtsVoiceNameOptions,!1),ae=t(o===null||o===void 0?void 0:o.enableSimpleVoiceInput,!1,!0),ve=t(o===null||o===void 0?void 0:o.enableSpeechDictationMode,!1,!0),ye=t(o===null||o===void 0?void 0:o.enableAudioPreloadLimit,!1,!0),pe=t(o===null||o===void 0?void 0:o.enableSpeechFateTTSStop,!1,!0),we=t(o===null||o===void 0?void 0:o.enableSpeechGetUserMedia,!1),ng=t(o===null||o===void 0?void 0:o.enableSydCLOC,!1,!0),tg=t(o===null||o===void 0?void 0:o.enableCdxFeats,!1),to=t(o===null||o===void 0?void 0:o.cdxFeats,u),ig=t(o===null||o===void 0?void 0:o.disableSecureUpdateConversation,!1),rg=t(o===null||o===void 0?void 0:o.disableSecureSendFeedback,!1),ug=t(o===null||o===void 0?void 0:o.enableFdbkFinalized,!1,!0),fg=t(o===null||o===void 0?void 0:o.enableSemSerpShare,!1),eg=t(o===null||o===void 0?void 0:o.enableCreatorShare,!1),og=t(o===null||o===void 0?void 0:o.enableShareModalDialog,!1,!0),io=t(o===null||o===void 0?void 0:o.enableSydImageCreate,!1,!0),ro=t(o===null||o===void 0?void 0:o.enableSunoMusicCreate,!1,!0),uo=t(o===null||o===void 0?void 0:o.enableSunoMusicInst,!1),sg=t(o===null||o===void 0?void 0:o.enableSunoMusicRelativeBaseUrl,!1),hg=t(o===null||o===void 0?void 0:o.enableSecureConnect,!0),co=t(o===null||o===void 0?void 0:o.enableAffinityInstance,!1),cg=t(o===null||o===void 0?void 0:o.enableStatefulReconnection,!1),lg=t(o===null||o===void 0?void 0:o.enableTelemetryFixForCreateConvError,!1),ag=t(o===null||o===void 0?void 0:o.enableFixForDuplicateErrorCount,!1),lo=t(o===null||o===void 0?void 0:o.enableGetMessagesHub,!1),vg=t(o===null||o===void 0?void 0:o.enableShortOpt,!1),yg=t(o===null||o===void 0?void 0:o.enablePuidOvr,!1),ao=t(o===null||o===void 0?void 0:o.enablePerfTrk,!1,!0),pg=t(o===null||o===void 0?void 0:o.enableEmbeddedPerf,!1),po=t(o===null||o===void 0?void 0:o.enableSinglePerfEventPerMessage,!1,!0),wg=t(o===null||o===void 0?void 0:o.enableE2EPerf,!1,!0),bg=t(o===null||o===void 0?void 0:o.enableCCPPerf,!1),fs=t(o===null||o===void 0?void 0:o.enableVisibilityPerfFix,!1),es=t(o===null||o===void 0?void 0:o.enableFixScrollBackSerpAccidentally,!1,!0),ss=t(o===null||o===void 0?void 0:o.enableLiteSuggestionItemWrap,!1),hs=t(o===null||o===void 0?void 0:o.enableNeatListening,!1),cs=t(o===null||o===void 0?void 0:o.enableUnauthRedir,!1,!0),vs=t(o===null||o===void 0?void 0:o.enableNewChatIconInActionBar,!1,!0),ys=t(o===null||o===void 0?void 0:o.enableActionBarV2,!1,!0),kr=t(o===null||o===void 0?void 0:o.speechSurface,u,ku),ps=t(o===null||o===void 0?void 0:o.enableSpeechDictationBridgeMode,!1),gr=t(o===null||o===void 0?void 0:o.enableSpeculativeMode,!1),kg=t(o===null||o===void 0?void 0:o.enableTranslateForBotMessage,!1),ws=t(o===null||o===void 0?void 0:o.enableReadAloudMessage,!1,!0),bs=t(o===null||o===void 0?void 0:o.enableReadAloudOptions,!1),ks=t(o===null||o===void 0?void 0:o.enableSpeechTouchStart,!1,!0),ds=t(o===null||o===void 0?void 0:o.enableReadAloudOnDeepLeoOnly,!1,!0),nh=t(o===null||o===void 0?void 0:o.enableReadAloudFixV1,!1),dg=t(o===null||o===void 0?void 0:o.bypassMicPermissionsQuery,!1),th=t(o===null||o===void 0?void 0:o.enableSpeechLanguageSetting,!1),ih=t(o===null||o===void 0?void 0:o.enableSpeechAutoDetectLanguage,!1),gg=t(o===null||o===void 0?void 0:o.enableWhisperSR,!1),rh=t(o===null||o===void 0?void 0:o.enableSpeechLogNoiseReduction,!1,!0),nn=t(o===null||o===void 0?void 0:o.enableAutoReopenMic,!1),uh=t(o===null||o===void 0?void 0:o.enableAutoReopenMicTTSStopped,!1),fh=t(o===null||o===void 0?void 0:o.enableAccentedIconsOnMobileABV2,!1,!0),eh=t(o===null||o===void 0?void 0:o.enableAltVoiceQuerySubmissionOnMobileABV2,!1),oh=t((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.enableMockMicListeningState,!1),sh=t((ui=_w._sydConvConfig)===null||ui===void 0?void 0:ui.enableMockMicBlockedState,!1),hh=t((ei=_w._sydConvConfig)===null||ei===void 0?void 0:ei.enableRecogFailedLogNoiseReduction,!1,!0),ch=t((oi=_w._sydConvConfig)===null||oi===void 0?void 0:oi.enableSpeculativeModeJSErrorChecks,!0),lh=t((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.enableMicRestIconWhenListening,!1,!0),ah=t(o===null||o===void 0?void 0:o.enableUndefinedToListeningAnimation,!1),tn=t((ci=_w._sydConvConfig)===null||ci===void 0?void 0:ci.enableAutoDetectLanguageNotification,!1),vh=t((vi=_w._sydConvConfig)===null||vi===void 0?void 0:vi.enableAutoDetectLanguageNotificationTest,!1),rn=t((yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.enableReopenMicNotification,!1),un=t((bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.enableReopenMicNotificationTest,!1),yh=t((di=_w._sydConvConfig)===null||di===void 0?void 0:di.enableEarlyLogSpeechStateChanged,!1,!0),ph=t((gi=_w._sydConvConfig)===null||gi===void 0?void 0:gi.enableUniversalInput,!1),fn=t(o===null||o===void 0?void 0:o.enableDynamicBaseUrl,!1),wh=t(o===null||o===void 0?void 0:o.enableSpeechErrorHandling,!1,!0),bh=t(o===null||o===void 0?void 0:o.enableSpeechAriaLabel,!1,!0),en=t(o===null||o===void 0?void 0:o.enableSpeechReopenMic,!1),kh=t(o===null||o===void 0?void 0:o.enableSpeechTTSLatencyLogging,!1,!0),dh=t(o===null||o===void 0?void 0:o.enableSpeechInputWhileRequestIsPending,!1),tc=t(o===null||o===void 0?void 0:o.enableSpeechIconDarkTheme,!1,!0),on=t(o===null||o===void 0?void 0:o.enableDesignerGPTAsPartnerNameinBICUrl,!1),sn=t(o===null||o===void 0?void 0:o.enableNewTopicAutoExpand,!1,!0),hn=t(o===null||o===void 0?void 0:o.enableMaxTurnsPerConversation,!1,!0),cn=t(o===null||o===void 0?void 0:o.enableAmberTurnPerConversation,!1),ln=t(o===null||o===void 0?void 0:o.enableDynamicMaxMessageLength,!1),ic=t(o===null||o===void 0?void 0:o.maxMessageLength,l,4e3),an=t(o===null||o===void 0?void 0:o.maxMessageLengthBalanced,l,2e3),vn=t(o===null||o===void 0?void 0:o.maxMessageLengthCreative,l,4e3),yn=t(o===null||o===void 0?void 0:o.maxMessageLengthPrecise,l,4e3),pn=t(o===null||o===void 0?void 0:o.maxMessageLengthBalancedPro,l,2e3),wn=t(o===null||o===void 0?void 0:o.maxMessageLengthCreativePro,l,4e3),bn=t(o===null||o===void 0?void 0:o.maxMessageLengthPrecisePro,l,4e3),kn=t(o===null||o===void 0?void 0:o.isAccountLinkedWithActiveAAD,!1),dn=t(o===null||o===void 0?void 0:o.enableThreadsAADMSASwitch,!1,!0),rc=t(o===null||o===void 0?void 0:o.enableTelemetryPrivacy,!1),gn=t(o===null||o===void 0?void 0:o.enableSydSafeSearch,!1),ntt=t(o===null||o===void 0?void 0:o.enableFeedbackClientSideScreenshot,!1,!0),ttt=t(o===null||o===void 0?void 0:o.enablePrivacyConsent,!1),itt=t(o===null||o===void 0?void 0:o.syntheticStreamSpeed,si,55),rtt=t(o===null||o===void 0?void 0:o.disableShareWithNoMargin,!1),utt=t(o===null||o===void 0?void 0:o.enableMobileShareAnchorBottom,!1,!0),ftt=t(o===null||o===void 0?void 0:o.enableCreativeLandingPage,!1),ett=t(o===null||o===void 0?void 0:o.enableServerLogMerging,!1,!0),uc=t(o===null||o===void 0?void 0:o.enableOneClickCopy,!1),fc=t(o===null||o===void 0?void 0:o.enableReorderCopiedTextReferences,!1),ec=t(o===null||o===void 0?void 0:o.enableCodeCopy,!1,!0),oc=t(o===null||o===void 0?void 0:o.enableCodeBar,!1,!0),sc=t(o===null||o===void 0?void 0:o.enableCodeBarV2,!1,!0),hc=t(o===null||o===void 0?void 0:o.enableUserMessageCopy,!1,!0),cc=t(o===null||o===void 0?void 0:o.enableRichTextPaste,!1),lc=t(o===null||o===void 0?void 0:o.enablePasteMarkdownTable,!1),ac=t(o===null||o===void 0?void 0:o.enablePasteMath,!1),ott=t(o===null||o===void 0?void 0:o.enableMobileOneClickShare,!1),stt=t(o===null||o===void 0?void 0:o.enableMobileOneClickShareV2,!1,!0),htt=t(o===null||o===void 0?void 0:o.enableFeedbackInstrumentation,!1,!0),ctt=t(o===null||o===void 0?void 0:o.enableSuggEndFix,!1),ltt=t(o===null||o===void 0?void 0:o.enableAutoRecoverFromInvalidSession,!1,!0),att=t(o===null||o===void 0?void 0:o.enableAutoRecoverFromInvalidSessionForFirstTurn,!1,!0),vtt=t(o===null||o===void 0?void 0:o.enableActionBarIMEFix,!1,!0),ytt=t(o===null||o===void 0?void 0:o.enableGhostTrailingSpaceByLanguage,!1,!0),vc=t(o===null||o===void 0?void 0:o.enableInlineFeedback,!1,!0),yc=t(o===null||o===void 0?void 0:o.enableInlineFeedbackV2,!1),pc=t(o===null||o===void 0?void 0:o.enableInlineFeedbackV21,!1,!0),wc=t(o===null||o===void 0?void 0:o.enableFeedbackCollectMoreInfo,!1,!0),bc=t(o===null||o===void 0?void 0:o.enableSerpFeedback,!1,!0),kc=t(o===null||o===void 0?void 0:o.enableMessageSave,!1),dc=t(o===null||o===void 0?void 0:o.enableMoreOnBotMessageActionsBar,!1),gc=t(o===null||o===void 0?void 0:o.enableMessageExport,!1),nl=t(o===null||o===void 0?void 0:o.enableMessageExportWithPlainText,!1),tl=t(o===null||o===void 0?void 0:o.enableHandoffAPI,!1),il=t(o===null||o===void 0?void 0:o.enableGetTokenInAdvance,!1),rl=t(o===null||o===void 0?void 0:o.enableRedirectUriFunction,!1),ul=t(o===null||o===void 0?void 0:o.enableMsalLocalStorageCache,!1),fl=t(o===null||o===void 0?void 0:o.enableMsalDifferentAuthority,!1),el=t(o===null||o===void 0?void 0:o.enableSearchOnBingForBotMessage,!1),ol=t(o===null||o===void 0?void 0:o.enableSearchOnBingInLinkHoverCard,!1),sl=t(o===null||o===void 0?void 0:o.enableMessageExportOnlineWord,!1,!0),ptt=t(o===null||o===void 0?void 0:o.enableMessageExportWord,!1),hl=t(o===null||o===void 0?void 0:o.enableMessageExportOnlineExcel,!1,!0),cl=t(o===null||o===void 0?void 0:o.enableMessageExportLocalExcel,!1),ll=t(o===null||o===void 0?void 0:o.enableTableBarFlatActions,!1,!0),wtt=t(o===null||o===void 0?void 0:o.enableThreadExportLocalWord,!1),al=t(o===null||o===void 0?void 0:o.enableThreadExportOnlineWord,!1,!0),vl=t(o===null||o===void 0?void 0:o.enableMessageExportV2,!1,!0),yl=t(o===null||o===void 0?void 0:o.enableBotMessageActionsBar,!1,!0),pl=t(o===null||o===void 0?void 0:o.enableShorterToastDuration,!1),wl=t(o===null||o===void 0?void 0:o.enableDirectlyOpenExportOnlineLink,!1,!0),bl=t(o===null||o===void 0?void 0:o.enableLoginHintForSSO,!1,!0),vlt=t(o===null||o===void 0?void 0:o.enableLimitToMsaOnlineExport,!1,!0),ylt=t(o===null||o===void 0?void 0:o.enableLimitToAadOnlineExport,!1,!0),kl=t(o===null||o===void 0?void 0:o.enableTonePreview,!1),dl=t(o===null||o===void 0?void 0:o.enableMSAuth1stPartyApp,!1,!0),gl=t(o===null||o===void 0?void 0:o.enableAdsRedirectLinkForTextMessage,!1),na=t(o===null||o===void 0?void 0:o.enableCopyHtml,!1,!0),ta=t(o===null||o===void 0?void 0:o.enableCopyHtmlWithHighlightedCode,!1),ia=t(o===null||o===void 0?void 0:o.enableExportPdfWithAnswerScreenshot,!1),ra=t(o===null||o===void 0?void 0:o.enableExportDocxWithAnswerScreenshot,!1),ua=t(o===null||o===void 0?void 0:o.enableLibrariesSplitImport,!1),fa=t(o===null||o===void 0?void 0:o.enableFlatActionBar,!1),ea=t(o===null||o===void 0?void 0:o.codexMUIDUser,!1),oa=t(o===null||o===void 0?void 0:o.enableChatIconClickable,!1),sa=t(o===null||o===void 0?void 0:o.enableChatQueryClickable,!1),ha=t(o===null||o===void 0?void 0:o.enableChatQueryClickableV2,!1),ca=t(o===null||o===void 0?void 0:o.enableChatQueryClickableV3,!1),la=t(o===null||o===void 0?void 0:o.enableChatQueryClickableV4,!1),btt=t(o===null||o===void 0?void 0:o.enableThreadOnlyFromSignal,!1),aa=t(o===null||o===void 0?void 0:o.enableShareQuestionWithResponse,!1),va=t(o===null||o===void 0?void 0:o.enableDynamicShareTitle,!1,!0),ya=t(o===null||o===void 0?void 0:o.enableShareQuestionTitlePrefix,!1),pa=t(o===null||o===void 0?void 0:o.enableShareInlineAdsIframe,!1),wa=t(o===null||o===void 0?void 0:o.enableSharePreview,!1,!0),ba=t(o===null||o===void 0?void 0:o.enableShareToMyBing,!1),ka=t(o===null||o===void 0?void 0:o.enableSharedHoverCitations,!1,!0),da=t(o===null||o===void 0?void 0:o.enableShowShareButtonWithSecurityCheck,!1,!0),ga=t(o===null||o===void 0?void 0:o.enableScreenshotIgnoreOnCibSerp,!1),nv=t(o===null||o===void 0?void 0:o.enableStandaloneUtility,!1),tv=t(o===null||o===void 0?void 0:o.enableCPPRRUpsell,!1),iv=t(o===null||o===void 0?void 0:o.enableWelcomeCopilotProButton,!1),rv=t(o===null||o===void 0?void 0:o.enableCopilotProOverlay,!1),uv=t(o===null||o===void 0?void 0:o.enableCopilotProSpectrumTemplate,!1),fv=t(o===null||o===void 0?void 0:o.copilotProSpectrumButtonText,u);n.enableCreatorSendQueryWhenShowConvQuery=t(o===null||o===void 0?void 0:o.enableCreatorSendQueryWhenShowConvQuery,!0);n.padding2TMobile=t(o===null||o===void 0?void 0:o.padding2TMobile,!0,80);nr=t(o===null||o===void 0?void 0:o.enableSetConvQueryFlag,!1,!0);v=t((tr=_w._sydConvTranslation)===null||tr===void 0?void 0:tr.pageTitleText,u);it=document.title||u;y=p?oe:li;n.enableConvModeSwitchAjax=t(o===null||o===void 0?void 0:o.enableConvModeSwitchAjax,!1);n.enableBingChatPath=t(o===null||o===void 0?void 0:o.enableBingChatPath,!1);var plt=t(o===null||o===void 0?void 0:o.enableCodexWin,!1),wlt=t(o===null||o===void 0?void 0:o.enableCodexWinBotMessage,!1),blt=t(o===null||o===void 0?void 0:o.codexWinCurrentTurn,0),ktt=t(o===null||o===void 0?void 0:o.enableGetChats,!1),dtt=t(o===null||o===void 0?void 0:o.enableDelayGetChats,!1,!0),ev=t(o===null||o===void 0?void 0:o.enableNewTables,!1),gtt=t(o===null||o===void 0?void 0:o.codexTableVersion,1),ov=t(o===null||o===void 0?void 0:o.enableBufferMessage,!1),sv=t(o===null||o===void 0?void 0:o.enableBufferLoadingDots,!1),hv=t(o===null||o===void 0?void 0:o.enableServerMetaText,!1),cv=t(o===null||o===void 0?void 0:o.enableCodeInterpreterPreviewCode,!1),nu=t(o===null||o===void 0?void 0:o.enableGptForMobileBrowser,!1),lv=t(o===null||o===void 0?void 0:o.enable3PGptForMobileBrowser,!1),av=t(o===null||o===void 0?void 0:o.enableGptForMobileUnderside,!1),vv=t(o===null||o===void 0?void 0:o.enableGPTCreatorItemContextMenu,!1,!0),yv=t(o===null||o===void 0?void 0:o.enableGptCreatorItemContextMenuFor1P,!1),nit=t(o===null||o===void 0?void 0:o.enableGPTCreator,!1),tit=t(o===null||o===void 0?void 0:o.enableGptWelcomeInitLoad,!1),iit=t(o===null||o===void 0?void 0:o.enableGptBuilderAction,!1),rit=t(o===null||o===void 0?void 0:o.isGptCreator,!1),pv=t(o===null||o===void 0?void 0:o.gptCreatorCopilotCreatorPath,!1,du),wv=t(o===null||o===void 0?void 0:o.gptCreatorBingPreviewPath,!1,fi),bv=t(o===null||o===void 0?void 0:o.gptCreatorSharePath,!1,fi),kv=t(o===null||o===void 0?void 0:o.enableMock3PGpts,!1),dv=t(o===null||o===void 0?void 0:o.enableGPTCreatorCreateGptPreview,!1,!0),uit=t(o===null||o===void 0?void 0:o.enableGptCreatorPreviewAutoSave,!1),fit=t(o===null||o===void 0?void 0:o.enableGptBuilderBottomBackgroundForCreatePanel,!1),eit=t(o===null||o===void 0?void 0:o.enableOrderForCustomGreetings,!1),oit=t(o===null||o===void 0?void 0:o.enableCopilotGptsPolicyLink,!1,!0),sit=t(o===null||o===void 0?void 0:o.enableCopilotCharacter,!1),gv=t(o===null||o===void 0?void 0:o.disableSuggestionsInCustomGpt,!1),ny=t(o===null||o===void 0?void 0:o.enableThreadsForAllGpts,!1),ty=t(o===null||o===void 0?void 0:o.enableBingGptUploadFileAPI,!1),iy=t(o===null||o===void 0?void 0:o.enableOptimizedStreaming,!1),hit=t(o===null||o===void 0?void 0:o.enableExportDocxWithFormat,!1,!0),cit=t(o===null||o===void 0?void 0:o.enableExportDocxWithTableFormat,!1,!0),lit=t(o===null||o===void 0?void 0:o.enableDisposeOrphanedHosts,!1),ait=t(o===null||o===void 0?void 0:o.enablePreserveTextFormat,!1,!0),vit=t(o===null||o===void 0?void 0:o.enableHoverCardOnLearnMorePills,!1),ry=t(o===null||o===void 0?void 0:o.enableSydBeacon,!1,!0),yit=t(o===null||o===void 0?void 0:o.enableShareOnHostMessage,!1),pit=t(o===null||o===void 0?void 0:o.disablePassBotGreetingInContext,!1,!0),uy=t(o===null||o===void 0?void 0:o.enableThreadContextMenu,!1),wit=t(o===null||o===void 0?void 0:o.enableCloudflareCaptcha,!1,!0),bit=t(o===null||o===void 0?void 0:o.enableInvisibleCaptchaChallenge,!1),kit=t(o===null||o===void 0?void 0:o.enableResizeObserverWithAnimationFrame,!1,!0),dit=t(o===null||o===void 0?void 0:o.enableKnowledgeCardImage,!1,!0),fy=t(o===null||o===void 0?void 0:o.enableStartPromotion,!1,!0),git=t(o===null||o===void 0?void 0:o.enableCopyButtonInstrumented,!1,!0),ey=t(o===null||o===void 0?void 0:o.enableThreads,!1),nrt=t(o===null||o===void 0?void 0:o.enableThreadSync,!1),trt=t(o===null||o===void 0?void 0:o.enableMobileKnowledgeCardOverlay,!1,!0),irt=t(o===null||o===void 0?void 0:o.enableCibOverlayForKnowledgeCard,!1,!0),rrt=t(o===null||o===void 0?void 0:o.enableKCAdaptiveCardUpdate,!1),urt=t(o===null||o===void 0?void 0:o.enableKCInChatClickThroughRequery,!1),frt=t(o===null||o===void 0?void 0:o.enablePluginsByTone,!1),klt=t(o===null||o===void 0?void 0:o.flux3PPluginList,u),oy=t(o===null||o===void 0?void 0:o.disableWelcomeScreen,!1),ert=t(o===null||o===void 0?void 0:o.enableWelcomeScreenV2,!1),ort=t(o===null||o===void 0?void 0:o.enableWelcomeScreenV3,!1),srt=t(o===null||o===void 0?void 0:o.enableChatFRE,!1),sy=t(o===null||o===void 0?void 0:o.disableZIRMSStart,!1),dlt=t(o===null||o===void 0?void 0:o.supportFullLang,!1),hy=t(o===null||o===void 0?void 0:o.enableWebPageContextMessages,!1),hrt=t(o===null||o===void 0?void 0:o.enableCodexPluginb,!1),crt=t(o===null||o===void 0?void 0:o.enableNewAutoSuggestEndPoint,!1),lrt=t(o===null||o===void 0?void 0:o.enable2TQueryConfigsOnSerpLoad,!1),glt=t(o===null||o===void 0?void 0:o.enable2TQueryConfigClientObserverCheck,!1),art=t(o===null||o===void 0?void 0:o.enableSydStaticAdsLink,!1),vrt=t(o===null||o===void 0?void 0:o.isMobileHost,!1),cy=t(o===null||o===void 0?void 0:o.enableMessagePrivacy,!1),yrt=t(o===null||o===void 0?void 0:o.enableResponseRetentionOnNetworkError,!1),ly=t(o===null||o===void 0?void 0:o.enableCloseShareOnClickOutside,!1),prt=t(o===null||o===void 0?void 0:o.enableTypingIndicatorForSerpSlotCreator,!1),wrt=t(o===null||o===void 0?void 0:o.enableOnProcessingStartEvent,!1,!0),brt=t(o===null||o===void 0?void 0:o.enableOnProcessingCompleteEvent,!1,!0),ay=t(o===null||o===void 0?void 0:o.enableUpdateProfile,!1),krt=t(o===null||o===void 0?void 0:o.enableTypewriter,!1,!0),vy=t(o===null||o===void 0?void 0:o.sydRequestSource,u),drt=t(o===null||o===void 0?void 0:o.enableConfirmPromptSingleDeleteThread,!1),grt=!t(o===null||o===void 0?void 0:o.disableTooltip,!1,!0),nut=t(o===null||o===void 0?void 0:o.enableNewlineTooltip,!1),tut=t(o===null||o===void 0?void 0:o.enableDeferredImageCreatorCard,!1,!0),iut=t(o===null||o===void 0?void 0:o.enableSaharaStream,!1),rut=t(o===null||o===void 0?void 0:o.enableFaviconsV2,!1,!0),uut=t(o===null||o===void 0?void 0:o.enableFaviconsAutoRefresh,!1),fut=t(o===null||o===void 0?void 0:o.enableCachedContentFixForIsStartOfSession,!1,!0),eut=t(o===null||o===void 0?void 0:o.enableUserIpAddress,!1,!0),out=t(o===null||o===void 0?void 0:o.enableLooseMessageDensity,!1),sut=t(o===null||o===void 0?void 0:o.enablePassSydedgForMobile,!1),hut=t(o===null||o===void 0?void 0:o.enableLinkPreviewCarousel,!1),cut=t(o===null||o===void 0?void 0:o.useFakeDataForLinkPreviewCarousel,!1),yy=t(o===null||o===void 0?void 0:o.enablePageHeaderOverlapClamping,!1,!0),lut=t(o===null||o===void 0?void 0:o.enableThreadShowPlugins,!1,!0),aut=t(o===null||o===void 0?void 0:o.enableUpdateUserMessageId,!1,!0),vut=t(o===null||o===void 0?void 0:o.enableUserMessageIdConsistency,!1),yut=t(o===null||o===void 0?void 0:o.enablePluginPanelFre,!1),put=t(o===null||o===void 0?void 0:o.enablePersistentInputText,!1,!0),py=t(o===null||o===void 0?void 0:o.enableEmptyThreadTime,!1),wut=t(o===null||o===void 0?void 0:o.enableRenderIframeCardRequest,!1),wy=t(o===null||o===void 0?void 0:o.enableBackendExportService,!1),but=t(o===null||o===void 0?void 0:o.enableFastChatLoadAnimation,!1),kut=t(o===null||o===void 0?void 0:o.enableShareInThreadsHeader,!0),nat=t(o===null||o===void 0?void 0:o.enableExternalSpeechIconAnimation,!1),dut=t(o===null||o===void 0?void 0:o.enableNewConversationActivate,!1),gut=t(o===null||o===void 0?void 0:o.enableMobileFirstClickShare,!1,!0),nft=t(o===null||o===void 0?void 0:o.enableMessageTypeCheck,!1,!0),by=t(o===null||o===void 0?void 0:o.enableSydneyGetMessagesHub,!1),tft=t(o===null||o===void 0?void 0:o.enableInlinePersonalizationConsent,!1),ift=t(o===null||o===void 0?void 0:o.enableInlinePersonalizationConsentCopilotLogo,!1,!0),rft=t(o===null||o===void 0?void 0:o.enableInlinePersonalizationConsentCallback,!1),uft=t(o===null||o===void 0?void 0:o.personalizationInlineConsentTurn,ef,1),ky=t(o===null||o===void 0?void 0:o.enableEduStarterMessage,!1),fft=t(o===null||o===void 0?void 0:o.enableEduStarterMessageAnimation,!1),eft=t(o===null||o===void 0?void 0:o.enablePhonePlugin,!1),oft=t(o===null||o===void 0?void 0:o.enablePhonePluginDogfoodEnvironment,!1),sft=t(o===null||o===void 0?void 0:o.enablePhonePluginBetaEnvironment,!1),hft=t(o===null||o===void 0?void 0:o.enablePhonePluginProductionEnvironment,!0),cft=t(o===null||o===void 0?void 0:o.disablePhonePluginInPreciseTone,!1),lft=t(o===null||o===void 0?void 0:o.disablePhonePluginInBalancedTone,!1),aft=t(o===null||o===void 0?void 0:o.disablePhonePluginInCreativeTone,!1),vft=t(o===null||o===void 0?void 0:o.enablePhonePluginInPreciseTone,!1),yft=t(o===null||o===void 0?void 0:o.enablePhonePluginInBalancedTone,!1),pft=t(o===null||o===void 0?void 0:o.enablePhonePluginInCreativeTone,!1),wft=t(o===null||o===void 0?void 0:o.enablePhonePluginCatalogId,!0),bft=t(o===null||o===void 0?void 0:o.enableUseStoreAsSourceForPhonePlugin,!1),kft=t(o===null||o===void 0?void 0:o.enablePhonePluginCatalog,!1),dft=t(o===null||o===void 0?void 0:o.enableAndroidCopilotV2,!1),gft=t(o===null||o===void 0?void 0:o.enableDonationPlugin,!1),net=t(o===null||o===void 0?void 0:o.enableDonationPluginDogfood,!1),tet=t(o===null||o===void 0?void 0:o.enableDonationPluginProd,!1),iet=t(o===null||o===void 0?void 0:o.enableM365consumerPlugin,!1),ret=t(o===null||o===void 0?void 0:o.enableM365ConsumerPluginOneDrive,!1),uet=t(o===null||o===void 0?void 0:o.enableM365ConsumerPluginHighPosition,!1),fet=t(o===null||o===void 0?void 0:o.enableM365ConsumerPluginsCatalog,!1),eet=t(o===null||o===void 0?void 0:o.enableM365ConsumerPluginPrivacyProtection,!1),oet=t(o===null||o===void 0?void 0:o.enablePrivacyProtectedConversation,!1),set=t(o===null||o===void 0?void 0:o.enableAdaptiveCardMessage,!1),dy=t(o===null||o===void 0?void 0:o.enableVersionedApiCalls,!1,!0),gy=t(o===null||o===void 0?void 0:o.enableAddNotebookSource,!1),np=t(o===null||o===void 0?void 0:o.enableJWTFTRFix,!1,!0),het=t(o===null||o===void 0?void 0:o.enablePaywallTelemetryFix,!1),cet=t(o===null||o===void 0?void 0:o.enableNoBingSearchResponseBackground,!1,!0),aet=t(o===null||o===void 0?void 0:o.enableNoSearchPluginMetaMessage,!1,!0),vet=t(o===null||o===void 0?void 0:o.enableSettingsToggle,!1),yet=t(o===null||o===void 0?void 0:o.enableSettingsToggleTop,!1),pet=t(o===null||o===void 0?void 0:o.enableTurboTone,!1),tp=t(o===null||o===void 0?void 0:o.enableOpenEdgeNotification,!1),ip=t(o===null||o===void 0?void 0:o.enableSuppressSigninMessage,!1),wet=t(o===null||o===void 0?void 0:o.enableRereadMetaAcc,!1,!0),bet=t(o===null||o===void 0?void 0:o.enableKeyboardNav,!1),rp=t(o===null||o===void 0?void 0:o.enableExportPdfWithRichFormat,!1),up=t(o===null||o===void 0?void 0:o.enableAttributionImages,!1),fp=t(o===null||o===void 0?void 0:o.enableAttributionImagesWhenAdsPresent,!1),ep=t(o===null||o===void 0?void 0:o.enableAttributionImagesCarousel,!1),op=t(o===null||o===void 0?void 0:o.enableAttributionImagesClickthrough,!1),sp=t(o===null||o===void 0?void 0:o.enableAttributionVideos,!1),hp=t(o===null||o===void 0?void 0:o.enableThreadsConsent,!1),ket=t(o===null||o===void 0?void 0:o.enableMutedThreadsConsent,!1,!0),cp=t(o===null||o===void 0?void 0:o.enableDeleteSingleConversationMemory,!1,!0),det=t(o===null||o===void 0?void 0:o.enableThreadsTopRightButton,!1),get=t(o===null||o===void 0?void 0:o.enablePluginsTopRightButton,!1),lp=t(o===null||o===void 0?void 0:o.enableOneDs,!1),not=t(o===null||o===void 0?void 0:o.enableBceMuidConsent,!1),tot=t(o===null||o===void 0?void 0:o.enableBfbCookieConsent,!1),ap=t(o===null||o===void 0?void 0:o.enableThreadContextMenuV2,!1,!0),vp=t(o===null||o===void 0?void 0:o.enableSearchBoxAutoFocus,!1),yp=t(o===null||o===void 0?void 0:o.enableUserMessageRewriteInsteadOfCopy,!1),pp=t(o===null||o===void 0?void 0:o.enableUserMessageRewriteAndCopy,!1,!0),wp=t(o===null||o===void 0?void 0:o.enableSendFeedback,!1),bp=t(o===null||o===void 0?void 0:o.enableSearchUserMessageOnBing,!1),kp=t(o===null||o===void 0?void 0:o.enableEditLastUserMessage,!1),dp=t(o===null||o===void 0?void 0:o.enableHideLastUserMessageInEdit,!1),gp=t(o===null||o===void 0?void 0:o.enablePrivateThreadDefaultTitle,!1),nw=t(o===null||o===void 0?void 0:o.enablePromptHandling,!1,!0),iot=t(o===null||o===void 0?void 0:o.enableU18Scenario,!1),a=t(o===null||o===void 0?void 0:o.isCCP,!1),rot=t(o===null||o===void 0?void 0:o.enablePluginDevTools,!1),uot=t(o===null||o===void 0?void 0:o.enablePluginCSRF,!1),tw=t(o===null||o===void 0?void 0:o.enableModeAndSlotValidationForAds,!1),fot=t(o===null||o===void 0?void 0:o.enableLogNoChatVariant,!1),eot=t(o===null||o===void 0?void 0:o.enableVersionPrompt,!1),oot=t(o===null||o===void 0?void 0:o.enableAttributionsV2,!1,!0),sot=t(o===null||o===void 0?void 0:o.enableLearnMoreCards,!1),hot=t(o===null||o===void 0?void 0:o.enableSentByDescriptor,!0),iw=t(o===null||o===void 0?void 0:o.enableInlineComponents,!1),rw=t(o===null||o===void 0?void 0:o.enableSuggestionChipDisplayText,!0),cot=t(o===null||o===void 0?void 0:o.enableLinkPreviewFailureTelemetry,!1),lot=t(o===null||o===void 0?void 0:o.enableLinkPreviewAppIdV2,!1),tu=t(o===null||o===void 0?void 0:o.enableWpFluxTwoTAnswerCard,!1),aot=t(o===null||o===void 0?void 0:o.disableWpFluxTwoTAnswerCardFallback,!1),vot=t(o===null||o===void 0?void 0:o.enableBICRelativeBaseUrl,!1),uw=t(o===null||o===void 0?void 0:o.isCopilotChat,!1),yot=t(o===null||o===void 0?void 0:o.enableCitationsOnSentences,!1,!0),fw=t(o===null||o===void 0?void 0:o.enableWelcomeItemEnterAnimation,!1),ew=t(o===null||o===void 0?void 0:o.enableToneSelectorAsDropdown,!1),ow=t(o===null||o===void 0?void 0:o.enableSidePanelPositionInlineStart,!1),sw=t(o===null||o===void 0?void 0:o.enableSidePanelAsPersistent,!1),hw=t(o===null||o===void 0?void 0:o.enableSidePanelVisibilityTrigger,!1),cw=t(o===null||o===void 0?void 0:o.enableSidePanelCustomScrollbar,!1),lw=t(o===null||o===void 0?void 0:o.enableConversationCustomScrollbar,!1),aw=t(o===null||o===void 0?void 0:o.enableConversationAlignmentTop,!1),vw=t(o===null||o===void 0?void 0:o.enableSimpleCopilotWelcomeScreen,!1),yw=t(o===null||o===void 0?void 0:o.enableThreadsHoverDescriptor,!1),pot=t(o===null||o===void 0?void 0:o.enableAnswerCards,!0),pw=t(o===null||o===void 0?void 0:o.enableMessagesWithInternalLoadAnimation,!1),ww=t(o===null||o===void 0?void 0:o.enableHideRAISuggestionIcon,!1),bw=t(o===null||o===void 0?void 0:o.enableMuidDisabledSuggestionBar,!1,!0),kw=t(o===null||o===void 0?void 0:o.enableHideSuggestionOnErrors,!1,!0),dw=t(o===null||o===void 0?void 0:o.enableConversationToActionBarFocusOrder,!1),tat=t(o===null||o===void 0?void 0:o.enableBopCustomGreeting,!0),gw=t(o===null||o===void 0?void 0:o.enableBufferClearOnReset,!1,!0),nb=t(o===null||o===void 0?void 0:o.enableCancelPendingRequestOnNewMessage,!1,!0),wot=t(o===null||o===void 0?void 0:o.enablePluginChatModeOnly,!1,!0),tb=t(o===null||o===void 0?void 0:o.enableThreadsArrowNav,!1,!0),ib=t(o===null||o===void 0?void 0:o.disableTitlePreviewLabel,!1,!0),rb=t(o===null||o===void 0?void 0:o.disableTurnCount,!1),ub=t(o===null||o===void 0?void 0:o.enableMultiDomainBIC,!1),fb=t(o===null||o===void 0?void 0:o.allowedBICDomains,""),bot=t(o===null||o===void 0?void 0:o.enableDeferGetConversation,!1),kot=t(o===null||o===void 0?void 0:o.enableBingProxyApiForSingleDeleteInThreads,!1);ur=n.getConfigOrDefault((ir=_w._sydConvConfig)===null||ir===void 0?void 0:ir.extraNotebookOptionsSets,u,tf);var dot=t(o===null||o===void 0?void 0:o.enableSilentUpdateConversationFail,!1),eb=t(o===null||o===void 0?void 0:o.enableGraphicArtJsonResponse,!1),got=t(o===null||o===void 0?void 0:o.enableStartConvFixInShareConversationMode,!1),nst=t(o===null||o===void 0?void 0:o.enableInlineTwoTAnswer,!1),ob=t(o===null||o===void 0?void 0:o.enableFreeSydney,!1),tst=t(o===null||o===void 0?void 0:o.enable1P3PGPTsGreeting,!1),sb=t(o===null||o===void 0?void 0:o.enableFreeSydneyV2Style,!1,!0),hb=t(o===null||o===void 0?void 0:o.enableCustomGptPreview,!1,!0),cb=t(o===null||o===void 0?void 0:o.enableShortShareUrl,!1,!0),ist=t(o===null||o===void 0?void 0:o.defaultMaxPersonaCount,6),ut=t(o===null||o===void 0?void 0:o.isBingUserSignedIn,!1),ct=t(o===null||o===void 0?void 0:o.enableFlux3P,!1),rst=t(o===null||o===void 0?void 0:o.f3pMsaAccountOnly,!1,!0),ust=t(o===null||o===void 0?void 0:o.enablePluginBCE,!1),iat=t(o===null||o===void 0?void 0:o.isUnderside,!1),fst=t(o===null||o===void 0?void 0:o.enableF3pNoSearchBgFix,!1,!0),est=t(o===null||o===void 0?void 0:o.enablePluginCopilot,!1),ost=t(o===null||o===void 0?void 0:o.enableSearchPluginOnTop,!1,!0),sst=t(o===null||o===void 0?void 0:o.topListedPluginIds,""),hst=t(o===null||o===void 0?void 0:o.enablePluginDiscovery,!1),cst=t(o===null||o===void 0?void 0:o.enablePluginsV1,!1),lb=t(o===null||o===void 0?void 0:o.enableInstService,!1),lst=t(o===null||o===void 0?void 0:o.enablePluginRevocation,!1),ast=t(o===null||o===void 0?void 0:o.enableSearchPlugins,!1),ab=t(o===null||o===void 0?void 0:o.sydneyFeedbackVertical,u,nf),vst=t(o===null||o===void 0?void 0:o.enableUndersideTopRightButtonBugFix,!1,!0),yst=t(o===null||o===void 0?void 0:o.enableDefaultGptsOnMobile,!1),vb=t(o===null||o===void 0?void 0:o.enableEnterToCreateNewLine,!1),pst=t(o===null||o===void 0?void 0:o.enableUpdateLocationButton,!1),wst=t(o===null||o===void 0?void 0:o.enableLocationMetaMessage,!1),yb=t(o===null||o===void 0?void 0:o.enableTextMessageDelayedFinalization,!1),pb=t(o===null||o===void 0?void 0:o.enableNewTopicButtonFeature,!1),bst=t(o===null||o===void 0?void 0:o.enableFullScreenIframe,!1,!0),kst=t(o===null||o===void 0?void 0:o.enableDelayedMsgHandlerDisposal,!1,!0),wb=t(o===null||o===void 0?void 0:o.enableChangeSidePanelVisibility,!1),dst=t(o===null||o===void 0?void 0:o.enableMuidRobustnessFix,!1),gst=t(o===null||o===void 0?void 0:o.enableHideTypingIndicatorOnError,!1,!0),nht=t(o===null||o===void 0?void 0:o.enableLearnmoreAsHeader,!1,!0),tht=t(o===null||o===void 0?void 0:o.enableRaiButtonTooltip,!1,!0),iht=t(o===null||o===void 0?void 0:o.enableResetFocusLossFix,!1,!0),rht=t(o===null||o===void 0?void 0:o.disableTurnCountLocalAccount,!1),uht=t(o===null||o===void 0?void 0:o.isTurnCountLocalAccountDisabled,!1),bb=t(o===null||o===void 0?void 0:o.enableWindowsCopilot,!1),fht=t(o===null||o===void 0?void 0:o.enableCaptchaCmcUrl,!1),kb=t(o===null||o===void 0?void 0:o.codexHoverCardDelayTimerDuration,500),eht=t(o===null||o===void 0?void 0:o.enableCitationSuperscriptFix,!1,!0),oht=t(o===null||o===void 0?void 0:o.enableTopAlignConversation,!1,!0),sht=t(o===null||o===void 0?void 0:o.enableHideZeroTurn,!1,!0),hht=t(o===null||o===void 0?void 0:o.enableMessageGroupHeader,!1,!0),cht=t(o===null||o===void 0?void 0:o.enableFullWidthMessages,!1,!0),lht=t(o===null||o===void 0?void 0:o.enableInlineStreamingIndicator,!1,!0),aht=t(o===null||o===void 0?void 0:o.enableDefaultBalancedtone,!1),vht=t(o===null||o===void 0?void 0:o.enableEmptyToneDebugLogs,!1),yht=t(o===null||o===void 0?void 0:o.enableMultilineSuggestions,!1),pht=t(o===null||o===void 0?void 0:o.enableAdaptiveCardImageForCodeInterpreter,!1),wht=t(o===null||o===void 0?void 0:o.enableCodePreviewInFooter,!1),rat=t(o===null||o===void 0?void 0:o.enableCopilotClientConfig,!1),bht=t(o===null||o===void 0?void 0:o.enableProgressMessageForBce,!1),kht=t(o===null||o===void 0?void 0:o.enableStackedSuggestionChips,!1),dht=t(o===null||o===void 0?void 0:o.enableRegisterContextAsync,!1),ght=t(o===null||o===void 0?void 0:o.enableStreamingInBackground,!1),nct=t(o===null||o===void 0?void 0:o.enableBGStreamInChat,!1),tct=t(o===null||o===void 0?void 0:o.enablePrefetchForMicMode,!1),ict=t(o===null||o===void 0?void 0:o.enablePrefetchForNonMicMode,!1),rct=t(o===null||o===void 0?void 0:o.enablePrefetchConversationToken,!1),uct=t(o===null||o===void 0?void 0:o.enableConnectionProvider,!1),fct=t(o===null||o===void 0?void 0:o.enableGptCreatorCreatePanel,!1,!0),ect=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanel,!1,!0),oct=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelKnowledges,!1,!0),db=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelcapabilities,!1,!0),sct=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelImageGenerator,!1,!0),hct=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelCodeInterpreter,!1),cct=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelIconUpload,!1),lct=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelIconGenerated,!1),act=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelIconExternalStorage,!1),vct=t(o===null||o===void 0?void 0:o.enableGptCreatorConfigurePanelEmptyDescriptionError,!1),gb=t(o===null||o===void 0?void 0:o.enableGPTCreatorBCE,!1),yct=t(o===null||o===void 0?void 0:o.enable3PGPTPublishProvenance,!1),pct=t(o===null||o===void 0?void 0:o.userAnID,u),wct=t(o===null||o===void 0?void 0:o.disableGptCrtVisualSearchapi,!1),bct=t(o===null||o===void 0?void 0:o.enableFaqBcc,!0),kct=t(o===null||o===void 0?void 0:o.enableFaqBce,!0),nk=t(o===null||o===void 0?void 0:o.faqBccBceUrl,bu),dct=t(o===null||o===void 0?void 0:o.enableAttributionsV2MoreButton,!1,!0),gct=t(o===null||o===void 0?void 0:o.enable2TScrollToBottom,!1),tk=t(o===null||o===void 0?void 0:o.enableThumbsDownToSearchOnBing,!1),ik=t(o===null||o===void 0?void 0:o.enableThreadContextMenuA11yBugFix,!1),rk=t(o===null||o===void 0?void 0:o.enableSRA11yFix,!1,!0),uk=t(o===null||o===void 0?void 0:o.enableStopStreamingSignal,!1,!0),nlt=t(o===null||o===void 0?void 0:o.enableStartOfSessionFix,!1),tlt=t(o===null||o===void 0?void 0:o.enableGhostedAutoSuggest,!0),fk=t(o===null||o===void 0?void 0:o.codexCanvas,u,gu),ek=t(o===null||o===void 0?void 0:o.enableMetaFlowTasksMessage,!1),ilt=t(o===null||o===void 0?void 0:o.enableHostedContentToneSignal,!1),rlt=t(o===null||o===void 0?void 0:o.enableHostedContentPartnerSignal,!1),ult=t(o===null||o===void 0?void 0:o.enableThreadZiFix,!1,!0),flt=t(o===null||o===void 0?void 0:o.enableDeleteAllThreads,!1),ok=t(o===null||o===void 0?void 0:o.enableInternalSearchQueryReadout,!1),sk=t(o===null||o===void 0?void 0:o.enableFixReponseReadout,!1),hk=t(o===null||o===void 0?void 0:o.enableThreadNameReadout,!1),ck=t(o===null||o===void 0?void 0:o.enableInlineButtonAdaptiveCardUpdate,!1),elt=t(o===null||o===void 0?void 0:o.pluginDevToolsDfpSessionId,u);cr();rst&&ct&&!d&&!ust&&(ct=!1);a&&i(r.System,"isCCP","Codex");vy&&(CIB.config.sydney.request.source=vy);var iu=t(o===null||o===void 0?void 0:o.enableNotebookMode,!1),olt=t(o===null||o===void 0?void 0:o.enableNotebookMsaConsent,!1),slt=t(o===null||o===void 0?void 0:o.isMsaMock,!1);if(iu&&(CIB.config.features.enableNotebookMode=iu,wt=(rr=CIB.config.sydney.request.optionsSets)===null||rr===void 0?void 0:rr.slice(0),fr=ur.split(","),CIB.config.features.enableRecoverConvNotebook=t(o===null||o===void 0?void 0:o.enableRecoverConvNotebook,!1,!0),CIB.config.features.enableShiftEnterNotebook=t(o===null||o===void 0?void 0:o.enableShiftEnterNotebook,!1),CIB.config.features.enableAltNotebookIcons=t(o===null||o===void 0?void 0:o.enableAltNotebookIcons,!1,!0),CIB.config.features.enableGoldilocksNotebook=t(o===null||o===void 0?void 0:o.enableGoldilocksNotebook,!1),CIB.config.features.enableNotebookVerticalLayout=t(o===null||o===void 0?void 0:o.enableNotebookVerticalLayout,!1),CIB.config.features.enableNotebookVerticalResizer=t(o===null||o===void 0?void 0:o.enableNotebookVerticalResizer,!1),CIB.config.features.enableNotebookMaxWidth=t(o===null||o===void 0?void 0:o.enableNotebookMaxWidth,!1),CIB.config.features.enableNotebookPrefilledQuery=t(o===null||o===void 0?void 0:o.enableNotebookPrefilledQuery,!1),CIB.config.features.enableInlineTwoTAnswerNotebook=t(o===null||o===void 0?void 0:o.enableInlineTwoTAnswerNotebook,!1)),yr&&CIB.config.share&&(CIB.config.share.customizedShareOutImageThumbnailId=t(o===null||o===void 0?void 0:o.customizedShareOutImageThumbnailId,"","OBFB.73FF6ADE8CC93B6ED1EDA1CE557E2E09")),uw&&yr&&(CIB.config.share.baseUrl=window.location.origin),bo(),no(),sj_evt.bind("showSydFSC",lr),out&&(CIB.config.messaging.messageDensity="loose"),sut&&(((er=CIB.config.contentCreator)===null||er===void 0?void 0:er.query)!=null&&(CIB.config.contentCreator.query.frame="sydedg"),((or=CIB.config.sunoMusicCreator)===null||or===void 0?void 0:or.query)!=null&&(CIB.config.sunoMusicCreator.query.frame="sydedg")),vot&&(CIB.config.contentCreator.baseUrl=window.location.origin),ub&&fb&&CIB.config.contentCreator&&(CIB.config.contentCreator.allowedDomains=fb.split(",")),CIB.config.features.enableMultiDomainBIC=ub,CIB.config.features.enableDeferGetConversation=bot,kb!==500&&(CIB.config.messaging.hoverCardDelayTimerDuration=kb),ok&&(CIB.config.features.enableInternalSearchQueryReadout=ok),sk&&(CIB.config.features.enableFixReponseReadout=sk),hk&&(CIB.config.features.enableThreadNameReadout=hk),CIB.config.features.enableRereadMetaAcc=wet,CIB.config.features.enableKeyboardNav=bet,CIB.config.features.enableSentByDescriptor=hot,CIB.config.features.enableMessageTypeCheck=nft,CIB.config.features.enableThreadOnlyFromSignal=btt,CIB.config.features.enableVersionPrompt=eot,CIB.config.features.enableAttributionsV2=oot,CIB.config.features.enableLearnMoreCards=sot,CIB.config.features.enableInlineTwoTAnswer=nst,CIB.config.features.enableMuidRobustnessFix=dst,CIB.config.features.enableHideTypingIndicatorOnError=gst,CIB.config.features.enableLearnmoreAsHeader=nht,CIB.config.features.enableRaiButtonTooltip=tht,CIB.config.features.enableResetFocusLossFix=iht,CIB.config.features.enableMultilineSuggestions=yht,CIB.config.features.enableStartConvFixInShareConversationMode=got,CIB.config.features.enableResponseRetentionOnNetworkError=yrt,CIB.config.features.enableStatefulReconnection=cg,CIB.config.features.enableFixForCreateConversationErrorTelemetry=lg,CIB.config.features.enableFixForDuplicateErrorCount=ag,sg&&CIB.config.sunoMusicCreator&&(CIB.config.sunoMusicCreator.baseUrl=window.location.origin),lk=_ge("cib-design-tokens"),lk||CIB.activateDesignTokens(),s={},sf&&(s.country=sf),cf&&(s.state=cf),lf&&(s.city=lf),vf&&(s.zipcode=vf),dk||ht?s.timezoneoffset=-((new Date).getTimezoneOffset()/60):yf&&(s.timezoneoffset=parseFloat(yf)),pf&&(s.dma=pf),wf&&(s.latitude=parseFloat(wf)),bf&&(s.longitude=parseFloat(bf)),hf&&(s.countryConfidence=hf),af&&(s.cityConfidence=af),ht?(ru=Intl.DateTimeFormat().resolvedOptions().timeZone,ru&&(s.timezone=ru),CIB.config.sydney.message.locationInfo=s):f&&typeof f.locations!="undefined"&&typeof f.locations.locationsList!="undefined"?typeof SydneyFSCLocationHelper!="undefined"&&typeof SydneyFSCLocationHelper.writeToLocationHints!="undefined"&&SydneyFSCLocationHelper.writeToLocationHints(f):f&&typeof f.cookLoc!="undefined"?(g=[],f.cookLoc.userLoc&&(ft=gt(f.cookLoc.userLoc,!1),ft.RegionType=1,ft.SourceType=2,ft.FDConfidence=1,g.push(ft)),f.cookLoc.deviceLoc&&(lt=gt(f.cookLoc.deviceLoc,!1),lt.RegionType=2,lt.SourceType=5,g.push(lt)),ng&&f.cookLoc.coarseLoc&&(vt=gt(f.cookLoc.coarseLoc,!1),vt.RegionType=2,vt.SourceType=11,g.push(vt)),c=s,c.Center={Latitude:c.latitude,Longitude:c.longitude},delete c.latitude,delete c.longitude,c.RegionType=2,c.SourceType=1,g.push(c),CIB.config.sydney.message.locationHints=g):CIB.config.sydney.message.locationinfo=s,eut&&(CIB.config.sydney.message.userIpAddress=gk),CIB.config.sydney.message.timestamp=gs(),pr(od),dy&&(CIB.config.features.enableVersionedApiCalls=dy),gy&&(CIB.config.features.enableAddNotebookSource=gy),np&&(CIB.config.features.enableJWTFTRFix=np),tb&&(CIB.config.features.enableThreadsArrowNav=tb),fn&&(CIB.config.bing.baseUrl=ke()),ktt&&(CIB.config.features.enableGetChats=!0),dtt&&(CIB.config.features.enableDelayGetChats=!0),nrt&&(CIB.config.features.enableThreadSync=!0),krt&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),iut&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),rut&&(CIB.config.features.enableFaviconV2=!0),uut&&(CIB.config.features.enableFaviconAutoRefresh=!0),fut&&(CIB.config.features.enableCachedContentFixForIsStartOfSession=!0),dot&&(CIB.config.features.enableSilentUpdateConversationFail=!0),yst&&(CIB.config.features.enableDefaultGptsOnMobile=!0),CIB.config.features.enableEmptyToneDebugLogs=vht,CIB.config.features.enableDefaultBalancedtone=aht,CIB.config.features.enableBingProxyApiForSingleDeleteInThreads=kot,ey&&ct&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={}),ost&&(CIB.config.plugin.searchPluginPositon=0),uu=sst.split(","),uu.length>0&&(CIB.config.plugin.topListedPluginIds=uu),est&&(CIB.config.features.enablePluginCopilot=!0,CIB.config.plugin.baseUrl=window.location.origin),CIB.config.features.enablePluginsV1=cst,CIB.config.features.enablePluginDiscovery=hst,wot&&(CIB.config.features.enablePluginOptionSetsConversationModeOnly=!0),cet&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),aet&&(CIB.config.features.enableNoSearchPluginMetaMessage=!0),lut&&(CIB.config.features.enableThreadShowPlugins=!0),yut&&(CIB.config.features.enablePluginPanelFre=!0),hut&&(CIB.config.features.enableLinkPreviewCarousel=!0),cot&&(CIB.config.features.enableLinkPreviewFailureTelemetry=!0),lot&&(CIB.config.features.enableLinkPreviewAppIdV2=!0),frt&&(CIB.config.features.enablePluginsByTone=!0),hrt&&(CIB.config.features.enableOpenTableBookBlueLink=!0),fst&&(CIB.config.features.enableNoBingSearchResponseBackgroundWithOptionsSets=!0),vst&&(CIB.config.features.enableUndersideTopRightButtonBugFix=!0),rot&&(CIB.config.features.enablePluginDevTools=!0),uot&&(CIB.config.features.enablePluginCSRF=!0,b=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),b&&(CIB.config.plugin.csrfSid=b)),CIB.config.plugin.dfpSessionId=elt),bct&&(CIB.config.features.enableFaqBcc=!0,CIB.config.links.faqBccBceUrl=nk),kct&&(CIB.config.features.enableFaqBce=!0,CIB.config.links.faqBccBceUrl=nk),tft&&(CIB.config.features.enableInlinePersonalizationConsent=!0,CIB.config.messaging.personalizationInlineConsentTurn=uft,CIB.config.features.enableInlinePersonalizationConsentCopilotLogo=ift,CIB.config.features.enableInlinePersonalizationConsentCallback=rft),drt&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),tut&&(CIB.config.features.enableDeferredImageCreatorCard=!0),CIB.config.features.enableRenderCardRequestIMSearchParams=!0,cut&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),aut&&(CIB.config.features.enableUpdateUserMessageId=!0),vut&&(CIB.config.features.enableUserMessageIdConsistency=!0),wut&&(CIB.config.features.enableRenderIframeCardRequest=!0),ky&&(CIB.config.features.enableFreEducationalStarter=!0),fft&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),eft&&(CIB.config.features.enablePhonePlugin=!0),hft&&(CIB.config.features.enablePhonePluginProductionEnvironment=!0),sft&&(CIB.config.features.enablePhonePluginBetaEnvironment=!0),oft&&(CIB.config.features.enablePhonePluginDogfoodEnvironment=!0),cft&&(CIB.config.features.disablePhonePluginInPreciseTone=!0),lft&&(CIB.config.features.disablePhonePluginInBalancedTone=!0),aft&&(CIB.config.features.disablePhonePluginInCreativeTone=!0),vft&&(CIB.config.features.enablePhonePluginInPreciseTone=!0),yft&&(CIB.config.features.enablePhonePluginInBalancedTone=!0),pft&&(CIB.config.features.enablePhonePluginInCreativeTone=!0),wft&&(CIB.config.features.enablePhonePluginCatalogId=!0),bft&&(CIB.config.features.enableUseStoreAsSourceForPhonePlugin=!0),kft&&(CIB.config.features.enablePhonePluginCatalog=!0),dft&&(CIB.config.features.enableMobileCopilotV2=!0),gft&&(CIB.config.features.enableDonationPlugin=!0),net&&(CIB.config.features.enableDonationPluginDogfood=!0),tet&&(CIB.config.features.enableDonationPluginProd=!0),CIB.config.features.enablePrivacyProtectedConversation=oet,CIB.config.features.enableM365ConsumerPluginsCatalog=fet,CIB.config.features.enableM365ConsumerPluginHighPosition=uet,CIB.config.features.enableM365ConsumerPluginPrivacyProtection=eet,iet&&(CIB.config.features.enableM365consumerPlugin=!0,so()),ret&&(CIB.config.features.enableM365ConsumerPluginOneDrive=!0,ho()),set&&(CIB.config.features.enableAdaptiveCardMessage=!0),bst&&(CIB.config.features.enableFullScreenIframe=!0),on&&(CIB.config.features.enableDesignerGPTAsPartnerNameinBICUrl=!0),kst&&(CIB.config.features.enableDelayedMsgHandlerDisposal=!0),fu=new URLSearchParams(_w.location.search),eu=fu.get(wu.toLowerCase()),(df!=""||ar&&eu)&&(tt=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],tt=h(tt,df),ar&&(tt=h(tt,eu)),CIB.config.speech.srOptions=tt),br&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),he&&(CIB.config.features.enableSpeechErrorLoggingAsSystemEvent=he),kr&&(CIB.config.speech.query.surface=kr,CIB.config.speech.surface=kr),ih&&(pt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,pi),pt&&pt!="1"?pt=="0"&&(CIB.config.speech.query.autodetect="0"):(CIB.config.speech.query.autodetect="1",CIB.config.features.enableSpeechAutoDetectLanguage=ih,CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxdlid"),CIB.config.speech.srOptions.push("autotts"),(vh||tn)&&(ou=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,wi),(vh||!ou||ou!=="1")&&(CIB.config.features.enableSpeechAutoDetectLanguageEvent=!0,nt=!0,CIB.config.speech.shouldShowAutoDetectSettingNotification=function(){i(r.System,"ShouldShowVoiceAutoDetectNotification","Voice",{isShown:nt?"1":"0"});var t=nt;return t&&sj_cook.set(n.userCook,wi,"1",!0,"/",null),nt=!1,t},CIB.config.speech.onAutoDetectSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceAutoDetectSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,pi,u,!0,"/",null)})))),(nn||en)&&(su=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ki),su&&su!="1"?CIB.config.features.enableAutoReopenMic=!1:(CIB.config.features.enableAutoReopenMic=!0,de(rn,un))),gg&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxwhisr")),d&&(CIB.config.features.supressSigninMessage=!0,CIB.config.features.enableAgeRestriction=!0,CIB.config.sydney.isMissingDob=wd,CIB.config.sydney.isAdultUser=pd),bd&&(hu=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),hu>=0&&CIB.config.sydney.request.optionsSets.splice(hu,1)),ld&&e(CIB.config.sydney.request.optionsSets,"dv3sugg"),vg&&e(CIB.config.sydney.request.optionsSets,"prodshortv4"),nd&&kf!=""&&(CIB.config.sydney.request.optionsSets=h([],kf)),tg){if(to)for(bt=to.split(","),kt=0,cu=bt;kt<cu.length;kt++)et=cu[kt],CIB.config.features[et]=!0;if(lu=fu.get(pu.toLowerCase()),ar&&lu)for(bt=lu.split(","),dt=0,au=bt;dt<au.length;dt++)et=au[dt],et.indexOf(":")>=0&&(ni=et.split(":"),ni.length==2&&(CIB.config.features[ni[0]]=ni[1]))}if(te&&(ak=te.split(","),CIB.config.sydney.request.sliceIds=ak),CIB.config.bing.isVisualParityRun=id,CIB.config.bing.isAADAuthenticated=rt,CIB.config.bing.isMSAAuthenticated=d,CIB.config.bing.userMailId=rd,CIB.config.bing.username=ud,CIB.config.bing.isSignedIn=ut,CIB.config.bing.isCCP=a,ne&&(CIB.config.sydney.baseUrl=ne),gf!=""&&(CIB.config.sydney.pathBase=gf),kd&&(vu=sj_cook.get(n.userCook,ai),vu&&vu=="0"&&(CIB.config.features.enableTTSOnVoiceInput=!1)),dd){CIB.config.features.enableCustomizedTtsOptions=!0;var hlt=sj_cook.get(n.userCook,fe),vk=parseInt(hlt),yk=sj_cook.get(n.userCook,ee);vk&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{speed:vk}));yk&&gd&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{voiceName:yk}))}if(ue&&(CIB.config.features.enableSpeechContinuousErrorHandling=ue),ce&&(CIB.config.features.enableSpeechChatDataAfterPhrase=ce),br&&(CIB.config.features.enableSpeechEarconOnInput=br),le&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=le),ae&&(CIB.config.features.enableSimpleVoiceInput=ae),ve&&(CIB.config.features.enableSpeechDictationMode=ve),ye&&(CIB.config.features.enableAudioPreloadLimit=ye),pe&&(CIB.config.features.enableSpeechFateTTSStop=pe),we&&(CIB.config.features.enableSpeechGetUserMedia=we),wh&&(CIB.config.features.enableSpeechErrorHandling=wh),kh&&(CIB.config.features.enableSpeechTTSLatencyLogging=kh),dh&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=dh),tc&&(CIB.config.features.enableSpeechIconDarkTheme=tc),bh&&(CIB.config.features.enableSpeechAriaLabel=bh),es&&(CIB.config.features.enableFixScrollBackSerpAccidentally=es),ss&&(CIB.config.features.enableLiteWrapTipsAndFix=ss),hs&&(CIB.config.features.enableNeatListening=hs),vo(),oa&&(CIB.config.features.enableChatIconClickable=oa),sa&&(CIB.config.features.enableChatQueryClickable=sa),ha&&(CIB.config.features.enableChatQueryClickableV2=ha),ca&&(CIB.config.features.enableChatQueryClickableV3=ca),la&&(CIB.config.features.enableChatQueryClickableV4=la),CIB.config.features.enableSharedNotebook=!t(o.disableShareLinkShowntbk,!1),aa&&(CIB.config.features.enableShareQuestionWithResponse=aa),va&&(CIB.config.features.enableDynamicShareTitle=va),ya&&(CIB.config.features.enableShareQuestionTitlePrefix=ya),pa&&(CIB.config.features.enableShareInlineAdsIframe=pa),wa&&(CIB.config.features.enableSharePreview=wa),ba&&(CIB.config.features.enableShareToMyBing=ba),ka&&(CIB.config.features.enableSharedHoverCitations=ka),ga&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=ga),nv&&(CIB.config.features.enableStandaloneUtility=nv),tv&&(CIB.config.features.enableSidePanelBelowThreadSlot=tv),iv&&(CIB.config.features.enableWelcomeCopilotProButton=iv,rv&&(CIB.config.features.enableCopilotProOverlay=rv)),uv&&(yu=t((sr=_w._sydConvConfig)===null||sr===void 0?void 0:sr.getCopilotProSpectrumUrl,u),ff=t((hr=_w._sydConvConfig)===null||hr===void 0?void 0:hr.getCopilotProSpectrumUrlMobile,u),CIB.config.features.enableCopilotProSpectrumTemplate=uv,yu&&(CIB.config.links.getCopilotProSpectrumUrl=yu),ff&&(CIB.config.links.getCopilotProSpectrumUrlMobile=ff),fv&&(CIB.config.strings.sydneyCopilotProSpectrumButtonText=fv)),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return kk.getJsonData(n)},td&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),ie&&(CIB.config.sydney.request.traceId=ie),CIB.config.features.enableSpeechInput=sd,CIB.config.features.enableShare=yr,CIB.config.features.enableAnswerBridgeShare=hd,CIB.config.features.enableMessageShareableSignalV2=cd,ad&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=tlt,CIB.config.features.enableHoverCardAttributionFavicons=!0),ltt&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),att&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),vtt&&(CIB.config.features.enableActionBarIMEFix=!0),ytt&&(CIB.config.features.enableGhostTrailingSpaceByLanguage=!0),re&&(CIB.config.features.enableErrorInstrumentaton=re),io&&(CIB.config.features.enableSydImageCreate=io),ro&&(CIB.config.features.enableSunoMusicCreate=ro),uo&&(CIB.config.features.enableSunoMusicInst=uo),iw&&(CIB.config.features.enableInlineComponents=iw),oo(),yo(a),eo(),vd&&(CIB.config.features.enableAnsCardSfx=!0),yd&&(CIB.config.features.enableLikeSaveToBingPage=!0),ntt&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),ttt&&(ea||vr&&(tot||not)?fo():iu&&olt&&(d||slt)&&(CIB.config.features.enablePrivacyConsentFormNonMuid=!0,wr())),lit&&(CIB.config.features.enableDisposeOrphanedHosts=!0),ait&&(CIB.config.features.enablePreserveTextFormat=!0),vit&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),wit&&(CIB.config.features.enableCloudflareCaptcha=!0),bit&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),kit&&(CIB.config.features.enableResizeObserverWithAnimationFrame=!0),hit&&(CIB.config.features.enableExportDocxWithFormat=!0),cit&&(CIB.config.features.enableExportDocxWithTableFormat=!0),het&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!ig,CIB.config.features.enableSecureSendFeedback=!rg,CIB.config.features.enableShareSemSerp=fg,CIB.config.features.enableShareCreator=eg,CIB.config.features.enableFeedbackOnFinalized=ug,CIB.config.features.enableShareWithNoMargin=!rtt,CIB.config.features.enableMobileShareAnchorBottom=utt,CIB.config.features.enableCreativeLandingPage=ftt,CIB.config.features.enableServerLogMerging=ett,CIB.config.features.enableMobileOneClickShare=ott,CIB.config.features.enableMobileOneClickShareV2=stt,CIB.config.features.enableFeedbackInstrumentation=htt,CIB.config.features.enableCopyButtonInstrumented=git,CIB.config.features.enableShareModalDialog=og,CIB.config.features.enableShareOnHostMessage=yit,CIB.config.features.enablePassBotGreetingInContext=!pit,CIB.config.features.enableMobileKnowledgeCardOverlay=trt,CIB.config.features.enableCibOverlayForKnowledgeCard=irt,CIB.config.features.enableKCAdaptiveCardUpdate=rrt,CIB.config.features.enableKCInChatClickThroughRequery=urt,CIB.config.features.enableNewAutoSuggestEndPoint=crt,CIB.config.features.enableNewTopicTooltip=grt,CIB.config.features.enableNewlineTooltip=nut,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=prt,CIB.config.features.enableOnProcessingStartEvent=wrt,CIB.config.features.enableOnProcessingCompleteEvent=brt,ln?(CIB.config.features.enableDynamicMaxMessageLength=!0,CIB.config.messaging.maxMessageLength=ic,CIB.config.messaging.maxMessageLengthBalanced=a?pn:an,CIB.config.messaging.maxMessageLengthCreative=a?wn:vn,CIB.config.messaging.maxMessageLengthPrecise=a?bn:yn):CIB.config.messaging.maxMessageLength=ic,CIB.config.features.enableThreadsAadMsaSwitch=dn,CIB.config.messaging.isAccountLinkedAadUser=kn,CIB.config.features.enableFastChatLoadAnimation=but,CIB.config.features.enableShareInThreadsHeader=kut,CIB.config.features.enableNewConversationActivate=dut,CIB.config.features.enableMobileFirstClickShare=gut,ey&&(CIB.config.features.enableThreadsTopRightButton=det,ct&&(CIB.config.features.enableThreadsTopRightButton||get)&&(CIB.config.features.enableThreadsTopRightButton=!0,CIB.config.features.enablePluginsTopRightButton=!0)),CIB.config.features.enablePluginRevocation=lst,CIB.config.features.enableSearchPlugins=ast,(ert||ort||srt)&&(CIB.config.features.enableWelcomeScreen=oy,CIB.config.features.enableWelcomeScreenItem=!oy),sy&&(CIB.config.features.disableZIRMSStart=sy),ky&&SydWelcomeScreen.isEduStarterEnabled()&&(CIB.config.features.enableWelcomeScreen=!0,CIB.config.features.enableWelcomeScreenItem=!0),dit&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0,gh()),CIB.config.features.secureConversation=hg,co&&(CIB.config.features.enableAffinityInstance=co,e(CIB.config.sydney.request.optionsSets,"machine_affinity"),e(CIB.config.sydney.request.optionsSets,"streamf")),lo&&(CIB.config.features.enableGetMessagesHub=lo),sn&&(CIB.config.features.enableNewTopicAutoExpand=!0),cn&&(pk=t(o===null||o===void 0?void 0:o.amberTurnPerConversation,0),CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=pk),hn){var clt=t(o===null||o===void 0?void 0:o.enableMaxTurnsFromBackend,!1),llt=t(o===null||o===void 0?void 0:o.maxTurnsPerConversationMuidUser,at),alt=t(o===null||o===void 0?void 0:o.maxTurnsPerConversation,at);CIB.config.features.enableMaxTurnsPerConversation=!0;CIB.config.features.enableMaxTurnsFromBackend=clt;CIB.config.messaging.maxTurnsPerConversation=ea?llt:alt}if(yg&&(CIB.config.sydney.request.Participant={Id:"1"}),ao&&(CIB.config.features.enablePerfTracker=ao),pg&&(CIB.config.features.enableEmbeddedPerf=!0),po&&(CIB.config.features.enableSinglePerfEventPerMessage=po),wg&&(CIB.config.features.enableE2EPerf=!0),(bg||a)&&(CIB.config.features.enableCCPPerf=!0),fs&&(CIB.config.features.enableVisibilityPerfFix=fs),cs&&(CIB.config.features.enableRedirectToLoginUrl=cs),vs&&(CIB.config.features.enableNewChatIconInActionBar=vs),ys&&(CIB.config.features.enableActionBarV2=ys),ps&&(CIB.config.features.enableSpeechDictationBridgeMode=ps),gr&&(CIB.config.features.enableSpeculativeMode=gr),CIB.config.features.enableTranslateForBotMessage=kg,ws&&(CIB.config.features.enableReadAloudMessage=ws),bs&&(CIB.config.features.enableReadAloudOptions=bs,ti=parseInt(sj_cook.get(n.userCook,ai)),ti>=0&&ti<=2&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{readAloud:ti}))),ds&&(CIB.config.features.enableReadAloudOnDeepLeoOnly=ds),nh&&(CIB.config.features.enableReadAloudFixV1=nh),th&&(CIB.config.features.enableSpeechLanguageSetting=th,wk=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,se),dr(wk)),rh&&(CIB.config.features.enableSpeechLogNoiseReduction=rh),ks&&(CIB.config.features.enableSpeechTouchStart=ks),uh&&(CIB.config.features.enableAutoReopenMicTTSStopped=uh),fh&&(CIB.config.features.enableAccentedIconsOnMobileABV2=fh),eh&&(CIB.config.features.enableAltVoiceQuerySubmissionOnMobileABV2=eh),oh&&(CIB.config.features.enableMockMicListeningState=oh),sh&&(CIB.config.features.enableMockMicBlockedState=sh),hh&&(CIB.config.features.enableRecogFailedLogNoiseReduction=hh),ch&&(CIB.config.features.enableSpeculativeModeJSErrorChecks=ch),lh&&(CIB.config.features.enableMicRestIconWhenListening=lh),ah&&(CIB.config.features.enableUndefinedToListeningAnimation=ah),yh&&(CIB.config.features.enableEarlyLogSpeechStateChanged=yh),ph&&(CIB.config.features.enableUniversalInput=ph),dg&&(CIB.config.speech.micPermissionProvider=function(){return{}}),gn&&(CIB.config.features.enableSafeSearchSetting=!0,os()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=itt,ctt&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),uc&&(CIB.config.features.enableOneClickCopy=uc),fc&&(CIB.config.features.enableReorderCopiedTextReferences=fc),ec&&(CIB.config.features.enableCodeCopy=ec),oc&&(CIB.config.features.enableCodeBar=oc),sc&&(CIB.config.features.enableCodeBarV2=sc),hc&&(CIB.config.features.enableUserMessageCopy=hc),cc&&(CIB.config.features.enableRichTextPaste=cc),lc&&(CIB.config.features.enablePasteMarkdownTable=lc),ac&&(CIB.config.features.enablePasteMath=ac),vc&&(CIB.config.features.enableInlineFeedback=vc),yc&&(CIB.config.features.enableInlineFeedbackV2=yc),pc&&(CIB.config.features.enableInlineFeedbackV21=pc),wc&&(CIB.config.features.enableFeedbackCollectMoreInfo=wc),bc&&(CIB.config.features.enableSerpFeedback=bc),kc&&(CIB.config.features.enableMessageSave=kc),dc&&(CIB.config.features.enableMoreOnBotMessageActionsBar=dc),gc&&(CIB.config.features.enableMessageExport=gc),nl&&(CIB.config.features.enableMessageExportWithPlainText=nl),tl&&(CIB.config.features.enableHandoffAPI=tl),il&&(CIB.config.features.enableGetTokenInAdvance=il),rl&&(CIB.config.features.enableRedirectUriFunction=rl),ul&&(CIB.config.features.enableMsalLocalStorageCache=ul),fl&&(CIB.config.features.enableMsalDifferentAuthority=fl),el&&(CIB.config.features.enableSearchOnBingForBotMessage=el),ol&&(CIB.config.features.enableSearchOnBingInLinkHoverCard=ol),sl&&(CIB.config.features.enableMessageExportOnlineWord=sl),hl&&(CIB.config.features.enableMessageExportOnlineExcel=hl),kl&&(CIB.config.features.enableTonePreview=kl),ib&&(CIB.config.features.disableTitlePreviewLabel=ib),rb&&(CIB.config.features.disableTurnCount=rb),CIB.config.features.enableMessageExportWord=ptt,CIB.config.features.enableThreadExportLocalWord=wtt,cl&&(CIB.config.features.enableMessageExportLocalExcel=cl),ll&&(CIB.config.features.enableTableBarFlatActions=ll),al&&(CIB.config.features.enableThreadExportOnlineWord=al),vl&&(CIB.config.features.enableMessageExportV2=vl),yl&&(CIB.config.features.enableBotMessageActionsBar=yl),pl&&(CIB.config.features.enableShorterToastDuration=pl),wl&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=wl),bl&&(CIB.config.features.enableLoginHintForSSO=bl),dl&&(CIB.config.features.enableMSAuth1stPartyApp=dl),gl&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=gl),na&&(CIB.config.features.enableCopyHtml=na),ta&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=ta),ia&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=ia),ra&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=ra),ua&&(CIB.config.features.enableLibrariesSplitImport=ua),fa&&(CIB.config.features.enableFlatActionBar=fa),ry&&(CIB.config.features.enableSydBeacon=ry),fy&&(CIB.config.features.enableStartPromotion=fy),uy&&(CIB.config.features.enableThreadContextMenu=uy),ev&&(CIB.config.features.enableNewTables=ev,CIB.config.messaging.tableVersion=gtt),ov&&(CIB.config.features.enableBufferMessage=ov),sv&&(CIB.config.features.enableBufferLoadingDots=sv),cv&&(CIB.config.features.enableCodeInterpreterPreviewCode=cv),nu&&(CIB.config.features.enableGptForMobileBrowser=nu,CIB.config.features.enableGPTForMobileBrowser=nu),lv&&(CIB.config.features.enable3PGptForMobileBrowser=lv),hv&&(CIB.config.features.enableServerMetaText=hv),vv&&(CIB.config.features.enableGPTCreatorItemContextMenu=vv,yv&&(CIB.config.features.enableGptCreatorItemContextMenuFor1P=yv)),kv&&(CIB.config.features.enableMock3PGpts=kv),dv&&(CIB.config.features.enableGPTCreatorCreateGptPreview=dv),tit&&(CIB.config.features.enableGptWelcomeInitLoad=!0),sit&&(CIB.config.features.enableCopilotCharacter=!0),iit&&(CIB.config.features.enableGptBuilderAction=!0),ob&&nit&&a&&(ut||rt&&gb)&&(CIB.config.features.enableGPTCreator=!0,CIB.config.features.enableExtraExtensionParams=!0,rit&&(CIB.config.features.enableThreads=!1,CIB.config.features.enableGptCreatorCreatePanel=fct,CIB.config.features.enableGptCreatorConfigurePanel=ect,CIB.config.features.enableGptCreatorConfigurePanelKnowledges=oct,CIB.config.features.enableGptCreatorConfigurePanelcapabilities=db,CIB.config.features.enableIconUpload=cct,CIB.config.features.enableIconGenerated=lct,CIB.config.features.enableIconExternalStorage=act,CIB.config.features.enableCopilotGptsPolicyLink=oit,CIB.config.features.enableGptCreatorPreviewAutoSave=uit,CIB.config.features.enableGptBuilderBottomBackgroundForCreatePanel=fit,CIB.config.features.enableOrderForCustomGreetings=eit,CIB.config.features.enableGptCreatorEmptyDescriptionError=vct,CIB.config.features.disableVisualSearchCheck=wct,db&&(CIB.config.features.enableGptCreatorConfigurePanelImageGenerator=sct,CIB.config.features.enableGptCreatorConfigurePanelCodeInterpreter=hct))),CIB.config.gptCreator&&(w=window.location.origin,ot=w.includes("bing.com"),CIB.config.gptCreator.gptCreatorCreatorUrl=w+pv,CIB.config.gptCreator.creatorUrl=w+pv,CIB.config.gptCreator.gptCreatorPreviewUrl=w+(ot?wv:""),CIB.config.gptCreator.previewUrl=w+(ot?wv:""),CIB.config.gptCreator.gptCreatorShareUrl=w+(ot?bv:""),CIB.config.gptCreator.shareUrl=w+(ot?bv:""),CIB.config.gptCreator.imageCreateAppID="3A94CC512C67BC6591C1F88594FBDB53481B8505",CIB.config.gptCreator.visualSearchAppID="23C2EDAB5DEC0DB471849B707155F587E52D0E1B",CIB.config.gptCreator.userAnID=pct),cy&&(CIB.config.features.enableMessagePrivacy=cy),ly&&(CIB.config.features.enableCloseShareOnClickOutside=ly),da&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=da),iy&&(CIB.config.features.enableOptimizedStreaming=iy),by&&(CIB.config.features.enableSydneyGetMessagesHub=by),ay&&(CIB.config.features.enableUpdateProfile=ay),ip&&(CIB.config.features.enableSuppressSigninMessage=ip),tp&&(CIB.config.features.enableOpenEdgeNotification=tp),CIB.config.features.enableSettingsToggle=vet,CIB.config.features.enableSettingPositionTop=yet,CIB.config.features.enableTurboTone=pet,CIB.config.features.enableCitationsOnSentences=yot,be(),CIB.config.features.enableTopAlignConversation=oht,CIB.config.features.enableHideZeroTurn=sht,CIB.config.features.enableMessageGroupHeader=hht,CIB.config.features.enableFullWidthMessages=cht,CIB.config.features.enableInlineStreamingIndicator=lht,CIB.config.features.enableAttributionsV2MoreButton=dct,CIB.config.features.enable2TScrollToBottom=gct,CIB.config.features.enableAdaptiveCardImageForCodeInterpreter=pht,CIB.config.features.enableThreadZiFix=ult,CIB.config.features.enableDeleteAllThreads=flt,CIB.config.features.enableCodePreviewInFooter=wht,CIB.config.features.enableProgressMessageForBce=bht,CIB.config.features.enableStackedSuggestionChips=kht,CIB.config.features.enableRegisterContextAsync=dht,nct)CIB.onModeChanged(function(n){switch(n){case"off-stage":CIB.config.features.enableStreamingInBackground=!1;break;default:CIB.config.features.enableStreamingInBackground=!0}});else CIB.config.features.enableStreamingInBackground=ght;if(CIB.config.features.enableCitationSuperscriptFix=eht,CIB.config.features.enablePrefetchForMicMode=tct,CIB.config.features.enablePrefetchForNonMicMode=ict,CIB.config.features.enablePrefetchConversationToken=rct,CIB.config.features.enableConnectionProvider=uct,CIB.config.features.enableAnswerCards=pot,yw&&(CIB.config.features.enableThreadsHoverDescriptor=yw),pw&&(CIB.config.features.enableMessagesWithInternalLoadAnimation=pw),ww&&(CIB.config.features.enableHideRAISuggestionIcon=ww),bw&&(CIB.config.features.enableMuidDisabledSuggestionBar=bw),kw&&(CIB.config.features.enableHideSuggestionOnErrors=kw),dw&&(CIB.config.features.enableConversationToActionBarFocusOrder=dw),fw&&(CIB.config.features.enableWelcomeItemEnterAnimation=fw),ew&&(CIB.config.features.enableToneSelectorAsDropdown=ew),ow&&(CIB.config.features.enableSidePanelPositionInlineStart=ow),sw&&(CIB.config.features.enableSidePanelAsPersistent=sw),hw&&(CIB.config.features.enableSidePanelVisibilityTrigger=hw),cw&&(CIB.config.features.enableSidePanelCustomScrollbar=cw),lw&&(CIB.config.features.enableConversationCustomScrollbar=lw),aw&&(CIB.config.features.enableConversationAlignmentTop=aw),vw&&(CIB.config.features.enableSimpleCopilotWelcomeScreen=vw),rp&&(CIB.config.features.enableExportPdfWithRichFormat=rp),up&&(CIB.config.features.enableAttributionImages=up),fp&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=fp),ep&&(CIB.config.features.enableAttributionImagesCarousel=ep),op&&(CIB.config.features.enableAttributionImagesClickthrough=op),sp&&(CIB.config.features.enableAttributionVideos=sp),ap&&(CIB.config.features.enableThreadContextMenuV2=ap),vp&&(CIB.config.features.enableSearchBoxAutoFocus=vp),yp&&(CIB.config.features.enableUserMessageRewriteInsteadOfCopy=yp),pp&&(CIB.config.features.enableUserMessageRewriteAndCopy=pp),wp&&(CIB.config.features.enableSendFeedback=wp),bp&&(CIB.config.features.enableSearchUserMessageOnBing=bp),kp&&(CIB.config.features.enableEditLastUserMessage=kp),dp&&(CIB.config.features.enableHideLastUserMessageInEdit=dp),gw&&(CIB.config.features.enableBufferClearOnReset=gw),nb&&(CIB.config.features.enableCancelPendingRequestOnNewMessage=nb),eb&&(CIB.config.features.enableGraphicArtJsonResponse=eb),lb&&(CIB.config.features.enableInstService=lb),ab!==""&&(CIB.config.bing.feedbackVertical=ab),uk&&(CIB.config.features.enableStopStreamingSignal=uk),ek&&(CIB.config.features.enableTasksMessage=ek),ck&&(CIB.config.features.enableInlineButtonAdaptiveCardUpdate=ck),fht&&(CIB.config.captcha.baseUrl=fd),CIB.config.features.enableStartOfSessionFix=nlt,CIB.config.features.partnerId=fk,CIB.config.windchime&&(CIB.config.windchime.partnerId=fk),CIB.config.features.enableHostedContentToneSignal=ilt,CIB.config.features.enableHostedContentPartnerSignal=rlt,ko(),ns(),ts(),go(),wy&&(CIB.config.features.enableBackendExportService=wy),wo(),hy&&(CIB.config.features.enableContextMessage=hy),st=t(o===null||o===void 0?void 0:o.codexOptionsSetsList,null),st&&st.length>0)for(ii=0;ii<st.length;ii++)e(CIB.config.sydney.request.optionsSets,st[ii].value);is();lrt&&nc(vrt,art);rc&&(CIB.config.features.enableTelemetryPrivacy=rc);tu&&(CIB.config.features.enableWpFluxTwoTAnswerCard=tu,CIB.config.features.enableWpFluxTwoTAnswerCardFallback=tu,aot&&(CIB.config.features.enableWpFluxTwoTAnswerCardFallback=!1),e(CIB.config.sydney.request.optionsSets,"fluxv1"),e(CIB.config.sydney.request.optionsSets,"fluxmatch"));ht&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():vr&&typeof BceSydneyHelper!="undefined"&&(BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs(),uw&&typeof MsbSydneyHelper!="undefined"&&MsbSydneyHelper.addTenantLogoToHeader());ht||(us(),rs());yy&&(CIB.config.features.enablePageHeaderOverlapClamping=yy);put&&(CIB.config.features.enablePersistentInputText=!0);py&&(CIB.config.features.enableEmptyThreadTime=py);hp&&(CIB.config.features.enableThreadsConsent=hp,CIB.config.features.enableMutedThreadsConsent=ket);cp&&(bk=t(o===null||o===void 0?void 0:o.threadsAutoSaveOptionset,k),CIB.config.features.enableDeleteSingleConversationMemory=cp,CIB.config.sydney.request.conversationHistoryOptionsSets=[bk,"savemem","uprofupd","uprofgen"],gr&&!!CIB.config.sydney.request.conversationHistoryOptionsSets&&CIB.config.sydney.request.conversationHistoryOptionsSets.push("enable_message_signature"));lp&&(CIB.config.features.enable1DSTelemetry=lp);gp&&(CIB.config.features.enablePrivateThreadDefaultTitle=gp);nw&&(CIB.config.features.enablePromptHandling=nw);iot&&e(CIB.config.sydney.request.optionsSets,"u18scenario");tw&&(CIB.config.features.enableModeAndSlotValidationForAds=tw);rw&&(CIB.config.features.enableSuggestionChipDisplayText=rw);ls();ge();fot&&as();yct&&(CIB.config.features.enablePublishedGptProvenance=!0);ob&&(CIB.config.features.enableFreeSydney=!0,CIB.config.gptCreator&&(CIB.config.gptCreator.maxSidePanelPersonasCount=ist),cb&&(CIB.config.features.enableShortShareUrl=cb),hb&&(ut||gb&&rt)&&(CIB.config.features.enableCustomGptPreview=hb,CIB.config.features.enableExtraExtensionParams=!0),tst&&(CIB.config.features.enableCustomGptSpecialGreeting=!0),gv&&(CIB.config.features.disableSuggestionsInCustomGpt=gv),ny&&(CIB.config.features.enableThreadsForAllGpts=ny),ty&&(CIB.config.features.enableBingGptUploadFileAPI=ty),av&&(CIB.config.features.enableGptForMobileUnderside=av));sb&&(CIB.config.features.enableFreeSydneyV2Style=sb);vb&&(CIB.config.features.enableEnterToCreateNewLine=vb);CIB.config.features.enableUpdateLocationButton=pst;CIB.config.features.enableLocationMetaMessage=wst;yb&&(CIB.config.features.enableTextMessageDelayedFinalization=yb);pb&&(CIB.config.features.enableNewTopicButtonFeature=pb);tk&&(CIB.config.features.enableThumbsDownToSearchOnBing=tk);wb&&(CIB.config.features.enableChangeSidePanelVisibility=wb);ik&&(CIB.config.features.enableThreadContextMenuA11yBugFix=ik);rk&&(CIB.config.features.enableStopRespondingFocus=rk);CIB.config.features.disableTurnCountLocalAccount=!1;!rht||ut||!bb||d||rt||(b=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),b&&(CIB.config.features.disableTurnCountLocalAccount=!0));CIB.config.features.enableHiddenTurnCountLocalAccount=!1;!uht||ut||!bb||d||rt||(b=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),b&&(CIB.config.features.enableHiddenTurnCountLocalAccount=!0))}function be(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableGoldilocks,!1,!0),r=t(n===null||n===void 0?void 0:n.enableGoldilocksRAIButton,!1,!0),u=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes,!1,!0),f=t(n===null||n===void 0?void 0:n.enableGoldiLocksBackgroundLight,!1),e=t(n===null||n===void 0?void 0:n.enableGoldilocksLineHeight,!1,!0),o=t(n===null||n===void 0?void 0:n.enableGoldilocksMetaMessage,!1,!0),s=t(n===null||n===void 0?void 0:n.enableGoldilocksAttributionPills,!1,!0),h=t(n===null||n===void 0?void 0:n.enableGoldilocksMessageActions,!1,!0),c=t(n===null||n===void 0?void 0:n.enableGoldilocksTurnCounter,!1,!0),l=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes2T,!1,!0),a=t(n===null||n===void 0?void 0:n.enableGoldilocksCitations,!1,!0),v=t(n===null||n===void 0?void 0:n.enableGoldilocksWiderActionBar,!1,!0),y=t(n===null||n===void 0?void 0:n.enableGoldilocksExportDropdown,!1,!0),p=t(n===null||n===void 0?void 0:n.enableGoldilocksInlineFeedback,!1,!0),w=t(n===null||n===void 0?void 0:n.enableGoldilocksUserMsgActionBar,!1,!0),b=t(n===null||n===void 0?void 0:n.enableGoldilocksContextual,!1,!0),it=t(n===null||n===void 0?void 0:n.enableGoldilocksSydneyAction,!1,!0),k=t(n===null||n===void 0?void 0:n.enableGoldilocksPersistentMetas,!1),d=t(n===null||n===void 0?void 0:n.enableGoldilocksInlinePersistentMetas,!1,!0),g=t(n===null||n===void 0?void 0:n.enableGoldilocksBackgroundGpt,!1),nt=t(n===null||n===void 0?void 0:n.enableGoldilocksIdentity,!1),tt=t(n===null||n===void 0?void 0:n.enableGoldilocksCopilotGreetingFix,!1,!0);CIB.config.features.enableUserMsgActionBar=w;CIB.config.features.enableGoldilocks=i;CIB.config.features.enableGoldilocksRAIButton=r;CIB.config.features.enableGoldilocksStrokes=u;CIB.config.features.enableGoldiLocksBackgroundLight=f;CIB.config.features.enableGoldilocksLineHeight=e;CIB.config.features.enableGoldilocksMetaMessage=o;CIB.config.features.enableGoldilocksAttributionPills=s;CIB.config.features.enableGoldilocksMessageActions=h;CIB.config.features.enableGoldilocksTurnCounter=c;CIB.config.features.enableGoldilocksStrokes2T=l;CIB.config.features.enableGoldilocksCitations=a;CIB.config.features.enableGoldilocksWiderActionBar=v;CIB.config.features.enableGoldilocksExportDropdown=y;CIB.config.features.enableGoldilocksInlineFeedback=p;CIB.config.features.enableGoldilocksContextual=b;CIB.config.features.enableGoldilocksPersistentMetas=k;CIB.config.features.enableGoldilocksInlinePersistentMetas=d;CIB.config.features.enableGoldilocksBackgroundGpt=g;CIB.config.features.enableGoldilocksIdentity=nt;CIB.config.features.enableGoldilocksCopilotGreetingFix=tt}function ke(){var n,t=(n=window===null||window===void 0?void 0:window.location)===null||n===void 0?void 0:n.origin;return t?t:ff}function de(t,u){if(t||u){var f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,di);(u||!f||f!=="1")&&(tt=!0,CIB.config.speech.shouldReopenMicNotification=function(){i(r.System,"ShouldShowReopenMicNotification ","Voice",{isShown:tt?"1":"0"});var t=tt;return t&&sj_cook.set(n.userCook,di,"1",!0,"/",null),tt=!1,t},CIB.config.speech.onReopenMicSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceReopenSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,ki,u,!0,"/",null)})}}function ge(){if(CIB.onResetConversation)CIB.onResetConversation(function(){i(r.System,"ResetConversationTriggered","ChatMode","1")})}function cr(){var r=this,i,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1);u&&"SydneyTestHelper"in _w&&(SydneyTestHelper.setTestConfigs(),sj_evt.bind("CHAT_MOCKED",function(t){var i=t&&t.length>1?t[1]:null;i&&(n.processCachedResponseUsingCIB=function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return SydneyTestHelper.shouldWaitForAnswerScript()?[4,SydneyTestHelper.getAnswerScriptDefer().p]:[3,2];case 1:n.sent();n.label=2;case 2:return CIB.processCachedResponse(i),[2]}})})})},!0))}function no(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableFixOnReplaceAllJSError,!1,!0),u=t(n===null||n===void 0?void 0:n.enableInPrivateUserMode,!1),o=t(n===null||n===void 0?void 0:n.enableCopilotFullScreenUX,!1),s=t(n===null||n===void 0?void 0:n.enableNoScrollDownOnInit,!1),h=t(n===null||n===void 0?void 0:n.enableFormCodeBingUrl,!0),c=t(n===null||n===void 0?void 0:n.enableRelativeSignInUrl,!1,!0),f=t(n===null||n===void 0?void 0:n.enableSuggestionItemEnterAnimation,!1),l=t(n===null||n===void 0?void 0:n.enableWowCDSSurvey,!1),e=t(n===null||n===void 0?void 0:n.enableKatexScroll,!1,!0),a=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isHeaderBackButtonEnabled,!1);r&&(CIB.config.features.enableFixOnReplaceAllJSError=r);u&&(CIB.config.features.enableInPrivateUserMode=u);o&&(CIB.config.mobile.isFullScreenEnabled=!0,CIB.config.features.enableThreadsPreview=!1,CIB.config.mobile.isHeaderBackButtonEnabled=a?!0:!1,CIB.config.features.enableThreadsHistoryIcon=!0);s&&(CIB.config.features.enableNoScrollDownOnInit=!0);h&&(CIB.config.features.enableFormCodeBingUrl=!0);c&&(CIB.config.bing.signIn.baseUrl=window.location.origin);f&&(CIB.config.features.enableSuggestionItemEnterAnimation=f);l&&(CIB.config.features.enableWowCDSSurvey=!0);e&&(CIB.config.features.enableKatexScroll=e)}function lr(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,re,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",lr)}function to(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function ar(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function vr(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function yr(){var n,t=(n=_G.Lang)!==null&&n!==void 0?n:"en",i=new URL("turing/convtranslation/".concat(t,".json"),window.location.origin);return i.href}function io(){var t,f=yr(),i=document.querySelector("head"),r,n,u;i&&typeof i.appendChild=="function"&&((r=_ge("sydtranslpre"),r)||(n=sj_ce("link"),n)&&((n.setAttribute("rel","prefetch"),n.setAttribute("href",f),n.setAttribute("as","fetch"),n.setAttribute("id","sydtranslpre"),u=(t=performance===null||performance===void 0?void 0:performance.getEntriesByName(n.href))===null||t===void 0?void 0:t.length,u>0)||i.appendChild(n)))}function ro(){var n,t,u;return __awaiter(this,void 0,void 0,function(){var o,f,e,s;return __generator(this,function(h){switch(h.label){case 0:o=(n=_G.Lang)!==null&&n!==void 0?n:"en";f=null;e={lang:o,locationOrigin:(t=_d===null||_d===void 0?void 0:_d.location)===null||t===void 0?void 0:t.origin,locationPath:(u=_d===null||_d===void 0?void 0:_d.location)===null||u===void 0?void 0:u.pathname};h.label=1;case 1:return h.trys.push([1,3,,4]),[4,uo(o)];case 2:return f=h.sent(),f&&(pr(f),e.numberStrings=f?Object.keys(f).length:0,i(r.System,"SydneyTranslationAjaxLoaded","TranslationJSON",e)),[3,4];case 3:return s=h.sent(),e.exception=s,i("CI.Error","SydneyTranslationAjaxFailed","TranslationJSONError",e),[3,4];case 4:return[2]}})})}function uo(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(r){switch(r.label){case 0:return t=yr(),[4,ri(t,"","GET")];case 1:return(n=r.sent(),n===null||n===void 0?void 0:n.response)?(i=JSON.parse(n.response),_w._sydConvTranslation=__assign(__assign({},_w._sydConvTranslation),i),[2,_w._sydConvTranslation]):[2]}})})}function pr(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r]}function fo(){CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=!0;wr()}function wr(){var n,i,r,u,f,e=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableBfbCookieConsent,!1),o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!1,!0),h=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCodexMuidConsentModal,!1),l=o||s||h||c;l&&(CIB.config.features.enableCodexMuidConsentTop=o,CIB.config.features.enableCodexMuidConsentInlineExplicit=s,CIB.config.features.enableCodexMuidConsentInlineImplicit=h,CIB.config.features.enableCodexMuidConsentModal=c,CIB.config.sydney.muidUserConsentGiven=e&&yt||kr(),CIB.onConsentGiven&&CIB.onConsentGiven(function(){cs();e&&BceSydneyHelper.updateBfbConsent()}))}function br(){var n,i,r,u,f,o,s;return __awaiter(this,void 0,void 0,function(){var y,h,a,p,w,b,d,v,c,l,g,nt=this;return __generator(this,function(tt){switch(tt.label){case 0:if(y=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableThreads,!1),!y||rr)return[2];if(rr=!0,h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreadsConsent,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.threadsAutoSaveOptionset,k),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFetchUserConsent,!1,!0),w=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableThreadsConsentOnlyAutosave,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableInlinePersonalizationConsentCallback,!1),d=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingUserSignedIn,!1),CIB.config.features.enableThreadsConsent=h,CIB.config.features.enableThreadsConsentOnlyAutosave=!!w,h&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(n){switch(n){case"Allowed":e(CIB.config.sydney.request.optionsSets,a);break;default:gr(CIB.config.sydney.request.optionsSets,a)}});return(h&&d&&(e(CIB.config.sydney.request.optionsSets,"enable_user_consent"),e(CIB.config.sydney.request.optionsSets,"fluxmemcst")),!(h&&p&&CIB.fetchConsent))?[3,2]:[4,CIB.fetchConsent()];case 1:return tt.sent(),[3,8];case 2:if(!(h&&CIB.getConsent&&CIB.updateConsent))return[3,8];tt.label=3;case 3:return tt.trys.push([3,7,,8]),[4,CIB.getConsent()];case 4:return(v=tt.sent(),c=v.consentSettings.autoSave,l=v.consentSettings.personalization,!(c&&l&&(c!=="Allowed"||l!=="Allowed")))?[3,6]:[4,CIB.updateConsent(c,l)];case 5:tt.sent();tt.label=6;case 6:return[3,8];case 7:return g=tt.sent(),[3,8];case 8:if(b&&CIB.onPersonalizationMessageRendered&&CIB.fetchConsent)CIB.onPersonalizationMessageRendered(function(){return __awaiter(nt,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,CIB.fetchConsent()];case 1:return n.sent(),[2]}})})});return[2]}})})}function eo(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableMultimediaSearch,!1),f=t(n===null||n===void 0?void 0:n.enableMultimediaSearchVideo,!1);if((r||f)&&((i=CIB.config.multimediaSearch)===null||i===void 0?void 0:i.query)){var c=t(n===null||n===void 0?void 0:n.isMobileHost,!1),e=t(n===null||n===void 0?void 0:n.multimediaSearchFormCode,u,"IACMIR"),o=t(n===null||n===void 0?void 0:n.multimediaSearchEnableMediaCanvas,!0),l=t(n===null||n===void 0?void 0:n.multimediaSearchMaxImageCount,3,5),a=t(n===null||n===void 0?void 0:n.multimediaSearchMaxVideoCount,3,3),v=t(n===null||n===void 0?void 0:n.multimediaSearchEnableCachedImages,!1),s=t(n===null||n===void 0?void 0:n.multimediaSearchOptionsSets,u);s&&(CIB.config.sydney.request.optionsSets=h(CIB.config.sydney.request.optionsSets,s));CIB.config.features.enableMultimediaSearch=r;CIB.config.features.enableMultimediaSearchVideo=f;CIB.config.multimediaSearch.maxImageCount=l;CIB.config.multimediaSearch.maxVideoCount=a;CIB.config.multimediaSearch.enableMediaCanvas=o;CIB.config.multimediaSearch.enableCachedImages=v;o&&c&&(CIB.config.multimediaSearch.query.view="detailV2",CIB.config.multimediaSearch.query.idpbck="1");e&&(CIB.config.multimediaSearch.query.form=e)}}function oo(){var n,i,r,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(tt){var rt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),ut=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),ft=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.aimgut,!1),it=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.visualSearchSubscriptionId,u,"Bing.Chat.Multimodal"),et=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.vsbtnicon,u),ot=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.vsbtniconfill,u),st=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.eifpiab,!1,!0),ht=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.emwc,!1),ct=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.eufte,!1),lt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.ecambar,!1),at=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.eaddimgbar,!1),vt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.eaddimgicon,!1),yt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.evsfre,!1),pt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.ekrbu,!1),wt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.evsptnr,!1,!0),bt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.evsdirurl,!1),kt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.eimgsmkcard,!1),dt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.efhof,!1,!0),gt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.eprsusimg,!1);rt&&(CIB.config.features.enableCameraInputForVisualSearch=!1);ut&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);pt&&(CIB.config.visualSearch.baseUrl=window.location.origin);CIB.config.features.enableVisualSearch=tt;CIB.config.features.enableImageFilePasteInActionBar=st;CIB.config.features.enableUnsupportedFileTypeError=ct;CIB.config.features.enableVisualSearchFRE=yt;CIB.config.features.enablePartnerVisualSearchUpload=wt;CIB.config.features.enableImageKnowledgeAnswerCards=kt;CIB.config.features.enableFlyoutHeaderOverlapFix=dt;CIB.config.features.enableProgressiveUnsanitizedUserImage=gt;CIB.config.visualSearch.allowImageOnlyUserTurn=ft;CIB.config.visualSearch.enableMobileWebCamera=ht;CIB.config.visualSearch.enableCameraInActionBar=lt;CIB.config.visualSearch.enableAttachImageInActionBar=at;CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot=bt;CIB.config.visualSearch.useImageAddIcon=vt;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;CIB.config.visualSearch.flyoutButtonIcon=et;CIB.config.visualSearch.flyoutButtonFillIcon=ot;!it||(CIB.config.visualSearch.subscriptionId=it);co();lo();ao()}}function so(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");f&&(CIB.config.m365consumer.pluginAuth.redirectUri=f);CIB.config.m365consumer.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,"ef47e344-4bff-4e28-87da-6551a21ffbe0")};CIB.config.m365consumer.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,"https://login.windows-ppe.net/consumers")};CIB.config.m365consumer.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365consumer.pluginAuth.showLoginPopup=!0;CIB.config.m365consumer.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOptionsSet,"flux_m365consumer_dogfood")};CIB.config.m365consumer.pluginId=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerOutlookPluginId,"d03ca482-c3c8-4b7c-ace3-b52857208916");CIB.config.features.enableM365ConsumerPluginSydneyId=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableM365ConsumerPluginSydneyId,!1)}function ho(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");f&&(CIB.config.m365ConsumerOneDrive.pluginAuth.redirectUri=f);CIB.config.m365ConsumerOneDrive.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,"ef47e344-4bff-4e28-87da-6551a21ffbe0")};CIB.config.m365ConsumerOneDrive.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,"https://login.windows-ppe.net/consumers")};CIB.config.m365ConsumerOneDrive.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365ConsumerOneDrive.pluginAuth.showLoginPopup=!0;CIB.config.m365ConsumerOneDrive.graphAuthScopes=[t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerPluginGraphScope,"Files.Read.All")];CIB.config.m365ConsumerOneDrive.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOneDriveOptionsSet,"flux_onedrive_dogfood")};CIB.config.m365ConsumerOneDrive.pluginId=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.m365ConsumerOneDrivePluginId,"1e1a2734-7a88-4c1c-be1d-a79907b177c0")}function co(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function lo(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function ao(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function vo(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFixCodeXAsBug,!1,!0),ut=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStableAutosuggestion,!1,!0),ft=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableEndpointInASTelemetry,!1),et=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAutosuggestMetrics,!1,!0),ot=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCvidInAutosuggestAPI,!1,!0),st=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableASBackspaceFix,!1),ht=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableGhostingSuggestTelemetry,!1,!0),ct=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableResetASProperties,!1,!0),lt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableKSPQPropertiesTracking,!1,!0),at=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableAutoSuggestPerfMetrics,!1),vt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAutoSuggestPerfMetricP50,!1),yt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAutoSuggestPerfMetricP90,!1),pt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAutoSuggestPerfMetricAvgLatency,!1),wt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAutoSuggestPerfMetricQFT,!1),bt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableReduceDebouncingAutosuggest,!1),kt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableCachingAutosuggest,!1,!0),dt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableAcceptSuggestionOnRightArrow,!1),gt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableShowAutosuggestButton,!1,!0),ni=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableASCookieCheckToDisableGhosting,!1),ti=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.maxCacheLength,le),ii=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableAutoSuggestMidQueryFix,!1),ri=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableAutoSuggestPerfMetricBackendLatency,!1),ui=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableTrackingAutosuggestCacheHit,!1);CIB.config.features.enableFixCodeXAsBug=rt;CIB.config.features.enableStableAutosuggestion=ut;CIB.config.features.enableEndpointInASTelemetry=ft;CIB.config.features.enableAutosuggestMetrics=et;CIB.config.features.enableCvidInAutosuggestAPI=ot;CIB.config.features.enableASBackspaceFix=st;CIB.config.features.enableGhostingSuggestTelemetry=ht;CIB.config.features.enableResetASProperties=ct;CIB.config.features.enableKSPQPropertiesTracking=lt;CIB.config.features.enableReduceDebouncingAutosuggest=bt;CIB.config.features.enableCachingAutosuggest=kt;CIB.config.features.enableAcceptSuggestionOnRightArrow=dt;CIB.config.features.enableShowAutosuggestButton=gt;CIB.config.features.enableASCookieCheckToDisableGhosting=ni;CIB.config.suggestions.maxCacheLength=ti;CIB.config.features.enableAutoSuggestMidQueryFix=ii;CIB.config.features.enableAutoSuggestPerfMetrics=at;CIB.config.features.enableAutoSuggestPerfMetricP50=vt;CIB.config.features.enableAutoSuggestPerfMetricP90=yt;CIB.config.features.enableAutoSuggestPerfMetricAvgLatency=pt;CIB.config.features.enableAutoSuggestPerfMetricQFT=wt;CIB.config.features.enableAutoSuggestPerfMetricBackendLatency=ri;CIB.config.features.enableTrackingAutosuggestCacheHit=ui}function yo(n){var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,ct=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFileUpload,!1),lt=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFileUploadPrivacyMessage,!1),at=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableMobileFileUpload,!1),vt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadWebPageUrlInput,!1),yt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFileUploadContextInThreads,!1),pt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableTextFilePasteInActionBar,!1),wt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableFileUploadLongContext,!1,!0),bt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableFileUploadForAllModes,!1,!0),kt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableFileUploadDirect,!1),dt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFileUploadPdfSupport,!1,!0),gt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableFileUploadOfficeFilesSupport,!1),ni=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableFileUploadAudioSupport,!1),ti=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableFileUploadPDFSupportByKED,!1),ii=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableFileUploadAnyTypeSupport,!1),ri=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableFileUploadAuthorization,!1,!0),ui=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.fileSizeLimitation,sf),fi=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.audioFileSizeLimitation,hf,1e7),st=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.fileUploadMaxSizePro,cf),ei=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.fileUploadFileNameLengthLimitation,lf,500),oi=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.fileMaxCountForGptCreator,af,1),si=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.fileMaxCountForChat,vf),hi=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableFileUploadNewUploadFileAPI,!1,!0),ci=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.disableFileUploadOptionSets,!1),li=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableSydFileUploadPartnerUpload,!1,!0),ht=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableSydFileUploadMaxSizeTiers,!1),i,r;ct&&(CIB.config.features.enableFileUpload=!0,at&&(CIB.config.features.enableMobileFileUpload=!0));lt&&(CIB.config.features.enableFileUploadPrivacyMessage=!0);vt&&(CIB.config.features.enableFileUploadWebPageUrlInput=!0);yt&&(CIB.config.features.enableFileUploadContextInThreads=!0);pt&&(CIB.config.features.enableTextFilePasteInActionBar=!0);wt&&(CIB.config.features.enableFileUploadLongContext=!0);bt&&(CIB.config.features.enableFileUploadForAllModes=!0);kt&&(CIB.config.features.enableFileUploadDirect=!0);dt&&(CIB.config.features.enableFileUploadPdfSupport=!0);gt&&(CIB.config.features.enableFileUploadOfficeFilesSupport=!0,typeof CIB.config.features.enableFileUploadDocxSupport!="undefined"&&(CIB.config.features.enableFileUploadDocxSupport=!0));ni&&(CIB.config.features.enableFileUploadAudioSupport=!0);ti&&(CIB.config.features.enableFileUploadPDFSupportByKED=!0);ii&&(CIB.config.features.enableFileUploadAnyTypeSupport=!0);ri&&(CIB.config.features.enableFileUploadAuthorization=!0);hi&&(CIB.config.features.enableSydneyUploadFileAPI=!0);li&&(CIB.config.features.enablePartnerFileUpload=!0);ci&&CIB.config.fileUpload&&(CIB.config.fileUpload.extraOptionsSet=[],CIB.config.fileUpload.extraOptionsSetV2=[]);CIB.config.fileUpload&&(i=ht&&n?st:ui,r=ht&&n?st:fi,CIB.config.fileUpload.audioFileSizeLimitation=r,CIB.config.fileUpload.fileSizeLimitationLongContext=i,CIB.config.fileUpload.fileSizeLimitation=i,CIB.config.fileUpload.fileSizeLimitationForChat=i,CIB.config.fileUpload.audioFileSizeLimitationForChat=r,CIB.config.fileUpload.fileSizeLimitationForGptCreator=i,CIB.config.fileUpload.audioFileSizeLimitationForGptCreator=r,CIB.config.fileUpload.fileNameLengthLimitation=ei,CIB.config.fileUpload.fileMaxCountForGptCreator=oi,CIB.config.fileUpload.fileMaxCountForChat=si,po())}function po(){var r,u,n=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.azureAIDocumentAnalysisFileExtensions,yf),i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.audioFileExtensions,pf);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.features.enableFileUploadOfficeFilesSupport&&(CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions=[],n.forEach(function(n){CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions.push(n.value)}));(i===null||i===void 0?void 0:i.length)>0&&CIB.config.features.enableFileUploadAudioSupport&&(CIB.config.fileUpload.audioFileExtensions=[],i.forEach(function(n){CIB.config.fileUpload.audioFileExtensions.push(n.value)}))}function wo(){var f,o,s,h,c,l,a,v,y,p,w,b,d,g,nt,tt,it,ut=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableShareWholeThreadMockUp,!1),ft=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),et=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!1,!0),ot=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),st=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),ht=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!1,!0),ct=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),lt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!1,!0),at=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableGetSharedMessagesAPIWithSNRProxy,!1,!0),vt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBICHistory,!1,!0),yt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshot,!1),pt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enable2TScreenshotSnR,!1),rt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreads,!1),kt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableThreadsCF,!1),wt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableThreadsCopilotMobileUpsell,!1),n,u,bt;if(ut&&(CIB.config.features.enableShareWholeThreadMockUp=ut),ft&&(CIB.config.features.enableThreadShareLandingPage=ft),et&&(CIB.config.features.enableShareConversation=et),ot&&(CIB.config.features.enableShareThreadWithNoCache=ot),st&&(CIB.config.features.enableWholeThreadPerformanceFix=st),ht&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=ht),ct&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=ct),lt&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=lt),at&&(CIB.config.features.enableGetSharedMessagesAPIWithSNRProxy=at),vt&&(CIB.config.features.enableBICHistory=vt),yt&&(CIB.config.features.enableAnswerScreenshot=yt),pt&&(CIB.config.features.enableAnswerScreenshotSnR=pt),wt&&(CIB.config.features.enableThreadsCopilotMobileUpsell=wt),rt){if(CIB.config.features.enableThreads=rt,n=t((tt=_w._sydThreads)===null||tt===void 0?void 0:tt.threads,null),n&&n.length>0)for(u=0;u<n.length;u++)CIB.addThread(n[u]);bt=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.threadsAutoSaveOptionset,k);e(CIB.config.sydney.request.optionsSets,bt)}(rt||kt)&&i(r.System,"THREADS","1","1");CIB.config.sydney.request.scenario!=="SERP"&&br()}function bo(){var n,i,r,u,f,e,o,s,h,c=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFullScreenUX,!1),l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCopilotDrawer,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isHeaderBackButtonEnabled,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isHeaderCloseButtonEnabled,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableActivityIconsFromContextMenu,!1),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHeaderBarReturnIcon,!1),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMobileLeftPanel,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableHideGPTsInSidePanel,!1),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableGoldiLocksV2Background,!1);c&&(CIB.config.mobile.isFullScreenEnabled=!0);l&&(CIB.config.features.enableCopilotDrawer=!0);v&&(CIB.config.features.isHeaderCloseButtonEnabled=!0);a&&(CIB.config.mobile.isHeaderBackButtonEnabled=!0);y&&(CIB.config.features.enableActivityIconsFromContextMenu=!0);p&&(CIB.config.features.disableHeaderBarReturnIcon=!0);w&&(CIB.config.features.enableMobileLeftPanel=!0);b&&(CIB.config.features.enableHideGPTsInSidePanel=!0);k&&(CIB.config.features.enableGoldiLocksV2Background=!0)}function ko(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,gf);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function go(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAnswerCardGrounding,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAnswerCardInMessage,!1),o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableAnswerCardRenderingInChat,!1);u&&e(CIB.config.sydney.request.optionsSets,"enacf");f&&e(CIB.config.sydney.request.optionsSets,"fluxwpaic");o&&(CIB.config.features.enableAnswerCardRendering=!0)}function ns(){var n,i,r,u,f,e,o,s,h,c,l,a,y=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),p=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!1,!0),w=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSearchQueryForInlineAds,!1,!0),b=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableDevFormOverrideForAds,!1),k=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFixForInlineAdsSQ,!1,!0),v=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.codexPartnerScenario,"","SERP"),d=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableRenderChatAdsOnSerp,!1),g=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableInlineAdsProcessingV2,!1,!0),nt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableInlineAdsContainer,!1,!0),tt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.disableHoverAdsClickout,!1),it=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableUniqueSlotId,!1),rt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableConversationHistoryForAds,!1);y&&(CIB.config.features.enableAdSlugsDesktop=!0);p&&(CIB.config.features.enableAdSlugsMobile=!0);w&&(CIB.config.features.enableSearchQueryForInlineAds=!0);b&&(CIB.config.features.enableDevFormOverrideForAds=!0);k&&(CIB.config.features.enableFixForInlineAdsSQ=!0);v!==""&&(CIB.config.sydney.request.scenario=v);d&&(CIB.config.features.enableSlottedContentForAds=!0,CIB.config.features.enableSlottedContentForInlineAds=!0);rt&&(CIB.config.features.enableSendConversationHistoryForAds=!0);g&&(CIB.config.features.enableInlineAdsProcessingV2=!0);nt&&(CIB.config.features.enableInlineAdsContainer=!0);tt&&(CIB.config.features.enableApplyLinkToHoverAds=!1);CIB.config.features.enableInlineAdsDynamicWidth=!0;it&&(CIB.config.features.enableUniqueSlotId=!0)}function ts(){var n=_w._sydConvConfig,u=t(n===null||n===void 0?void 0:n.enableShopgptWebcomponents,!1),r,i;u&&(CIB.config.features.enableInlineComponents=!0,CIB.config.features.enableDynamicWebcomponent=!0);r=t(n===null||n===void 0?void 0:n.enableShopgptShoppingSkills,!1);r&&(i=t(n===null||n===void 0?void 0:n.shopgptShoppingSkillsOptionset,""),i&&e(CIB.config.sydney.request.optionsSets,i))}function is(){var n,i,r,u,f,e,o,s=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),c=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),l=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.sydneySapphireUpsellTreatment,0),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isAccountLinkedWithActiveAAD,!1),v=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing","https://bingapp.microsoft.com/bing?style=newbing&adjust=euhmno2_oy62nz1"),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.sydSapphireUpsellVisualSearchQRCodeUrl,"https://bingapp.microsoft.com/bing?adjust=13uz7blz_13evwnmy");s&&!a&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=s,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=l,CIB.config.mobileUpsell.qrCodeBaseUrl=v);h&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=h,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=l);c&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=c,CIB.config.mobileUpsell.qrCodeVisualSearchUrl=y)}function rs(){var i,r,u,f,e,o,s,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(yu.toLowerCase()),n,c;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=h(n,l),a&&(n=h(n,b)),n=h(n,y),n=h(n,p),n=h(n,w),k&&(c=n.indexOf("deepleo"),c>=0&&n.splice(c,1)),CIB.config.sydney.request.optionsSets=n)}function us(){var o,h,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,kt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.toneDefault,((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isCCP)?n.CREATIVE_TONE:n.BALANCED_TONE),dt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.userPriorityLevel,999),gt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableUserPriorityLevel,!1),vt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableTonePerf,!1,!0),ni=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.shareLoadingUI,!1,!0),at;s=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableNoToneOpt,!1);ni&&(CIB.config.features.enableShareLoadingUI=!0);var i=!gt||dt>0,ht=i?t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.balTone,""):"harmonyv3",ct=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.crtTone,"","h3imaginative"),lt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.prcTone,"","h3precise"),yt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.sydBalOpts,""),pt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.sydCrtOpts,""),wt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.sydPrcOpts,""),bt="clgalileo",r=i?t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.sydBalExtraOpts,"",""):"",u=i?t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.sydCrtExtraOpts,"",bt):"",e=i?t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.sydPrcExtraOpts,"",bt):"";yt&&(r+=(r!==""?",":"")+yt);pt&&(u+=(u!==""?",":"")+pt);wt&&(e+=(e!==""?",":"")+wt);r&&(c.Balanced=r.split(","));u&&(c.Creative=u.split(","));e&&(c.Precise=e.split(","));(ht||s&&ht=="")&&(f[n.BALANCED_TONE]=ht);(ct||s&&ct=="")&&(f[n.CREATIVE_TONE]=ct);(lt||s&&lt=="")&&(f[n.PRECISE_TONE]=lt);vt&&(CIB.config.features.enableTonePerf=vt);CIB.config.features.enableGPT4TurboSwitch=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableGPT4TurboSwitch,!1);CIB.config.features.enableResponseToneSelector=!0;CIB.config.features.enablePersistentResponseToneSelector=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enablePersistentToneSelector,!1);CIB.config.features.enableResponseToneObjects=(ot=(et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableSuppressTones)!==null&&ot!==void 0?ot:!1;CIB.config.features.enableResponseToneColorThemes=!0;at=Object.keys(f);((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSuppressTones)?CIB.config.sydney.responseTones=at.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}}):CIB.config.sydney.responseToneOptions=at;vs(kt);ps()}function bt(i){var u,f,e,o,s,h,r,c;(t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableSyntheticStreamSpeedBasedOnTone,!1,!0)&&(r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.syntheticStreamSpeed,si,55),i===n.BALANCED_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.syntheticStreamSpeedForBalancedTone,r,15)),i===n.CREATIVE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.syntheticStreamSpeedForCreativeTone,r,55)),i===n.PRECISE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.syntheticStreamSpeedForPreciseTone,r,55))),c=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableStreamSyntheticTextResponses,!1),c)&&(CIB.config.messaging.streamSyntheticTextResponses=fs(i))}function fs(i){var r,u,e,o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableStreamSyntheticTextResponsesForBalancedTone,!1,!0),h=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableStreamSyntheticTextResponsesForCreativeTone,!1,!0),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableStreamSyntheticTextResponsesForPreciseTone,!1,!0);return o&&(i===n.BALANCED_TONE&&f[n.BALANCED_TONE]==="galileo"||s&&f[n.BALANCED_TONE]==="")||h&&(i===n.CREATIVE_TONE&&f[n.CREATIVE_TONE]==="h3imaginative"||s&&f[n.CREATIVE_TONE]==="")||c&&(i===n.PRECISE_TONE&&f[n.PRECISE_TONE]==="h3precise"||s&&f[n.PRECISE_TONE]==="")}function es(n){if(!n)return ft.Demote;for(var t in ft)if(t.toLowerCase().trim()===n.toLowerCase().trim())return ft[t];return ft.Demote}function os(){var t=sj_cook.get(n.userCook,ue),i=es(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function ss(n){er=n}function hs(){return er}function kr(){var i,r=sj_cook.get(n.userCook,y),e;if(p){var o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.bceTermsOfUseVersion,1,2),u=sj_cook.get(vi,y),s=!!r||!!u,f=s?Number(r)||Number(u)||1:0;return!!f&&f>=o}return e=sj_cook.get(g,g),r===e}function cs(){var u,f,e,o,s,h,c,l,a,k=sj_cook.get(g,g),d=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.bceTermsOfUseVersion,1,2),w=p?d.toString():k,v,b;sj_cook.set(n.userCook,y,w,!0,"/",null);sj_cook.set(vi,y,w,!0,"/",null);i(r.System,"MuidConsentProvided","MuidUser",{IsConsent:"1"});CIB.config.sydney.muidUserConsentGiven=!0;CIB.config.features.enableSuggestionBarInUnexpandedChatAnswer&&(v=(o=(e=(f=_d.querySelector(".b_ans #b_sydTigerCont"))===null||f===void 0?void 0:f.querySelector("cib-serp"))===null||e===void 0?void 0:e.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-see-more-container"),b=(a=(l=(c=(h=(s=_d.querySelector(".b_ans #b_sydTigerCont"))===null||s===void 0?void 0:s.querySelector("cib-serp"))===null||h===void 0?void 0:h.shadowRoot)===null||c===void 0?void 0:c.querySelector("cib-conversation"))===null||l===void 0?void 0:l.shadowRoot)===null||a===void 0?void 0:a.querySelector("cib-suggestion-bar"),v&&b&&v.setAttribute("has-suggestions","true"))}function ls(){if(typeof CIB.version!="undefined"&&CIB.version&&CIB.version.version&&typeof sj_cook!="undefined"&&sj_cook){var t=CIB.version.version,u=sj_cook.get(n.userCook,yi);u&&u===t||(sj_cook.set(n.userCook,yi,t,!0,"/",null),i(r.System,"CIB","CIBInfo",{version:t}))}}function as(){var n,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.DedicatedIpType,"unknown");["nochat","nochatstrict"].indexOf(u)>-1&&i(r.System,"NoChatVariant","NoChatVariantInfo",{DedicatedIpType:u})}function kt(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableToneCookExpiry,!1),u=r?n.toneCook:n.userCook;return sj_cook.get(u,n.toneCrumb)}function vs(u){var h,c,l,v,y,p,w,b,nt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableToneCookExpiry,!1),k=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableBalancedSerp,!1),it=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAlwaysCreativeSerp,!1),rt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAlwaysBalancedSerp,!1),ft=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSuperOptionsSets,!1),st=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBalancedSerpLog,!1),s="",ht=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableGetToneFromServer,!1),o=kt(),g,tt;if(st&&o!=n.BALANCED_TONE&&i(r.System,"BalSerpOverride","Tone",{tone:o}),ht&&(s=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.responseTone,u)),ws()){g=et(hi).toLowerCase().trim();CIB.responseTone=s||ut[g];dt(CIB.responseTone,!1,nt);i(r.System,"SET_TONE_FROM_URL",g,{});i(r.System,d,"Tone",{tone:CIB.responseTone});return}it?(o=s||n.CREATIVE_TONE,CIB.responseTone=o):rt?(o=s||n.BALANCED_TONE,CIB.responseTone=o):!k&&o!=null&&f.hasOwnProperty(o)?(CIB.responseTone=s||o,i(r.System,d,"Tone",{tone:o})):(nt&&(tt=sj_cook.get(n.userCook,n.hasSetToneCrumb),tt=="1"&&(sj_cook.set(n.userCook,n.hasSetToneCrumb,"0",!0,"/",null),i(r.System,"ResetTone","Tone",{}))),o=s||u,CIB.responseTone=o,i(r.System,"DefaultTone","Tone",{tone:o}));ft&&e(CIB.config.sydney.request.optionsSets,ne);pt=CIB.config.sydney.request.optionsSets.length;!k&&f.hasOwnProperty(o)?(e(CIB.config.sydney.request.optionsSets,f[o]),CIB.config.sydney.request.optionsSets=ot(CIB.config.sydney.request.optionsSets,o),a=o,bt(a)):k&&f.hasOwnProperty(n.BALANCED_TONE)&&(e(CIB.config.sydney.request.optionsSets,f[n.BALANCED_TONE]),CIB.config.sydney.request.optionsSets=ot(CIB.config.sydney.request.optionsSets,n.BALANCED_TONE),a=n.BALANCED_TONE,bt(n.BALANCED_TONE))}function ys(n){var u,f=n&&n.length>1?n[1]:null,e=f?f.toLowerCase().trim():"",o,s;f&&ut.hasOwnProperty(e)&&(o=n&&n.length>2?n[2]:!1,s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableToneCookExpiry,!1),CIB.responseTone=ut[e],dt(CIB.responseTone,o,s),i(r.System,d,"Tone",{tone:CIB.responseTone}))}function ps(){var n,u,f;sj_evt.bind(ie,ys,!0);var e=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCompliantSydneyEndpointEnabled,!1),s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToneChangedLogs,!1);if(!o&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){dt(n,!0,e)});if(s)CIB.onResponseToneChanged(function(n){i(r.System,"ToneChanged","Tone",{newTone:n})})}function et(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function ws(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=et(hi),i&&ut.hasOwnProperty(i.toLowerCase().trim())):!1}function dt(t,i,r){var h=[f[t]].concat(c[t]).toString(),o,u;t!==kt()&&tu("ChangedTone","Tone",{newTone:t});i&&(r?(o=ks(),sj_cook.set(n.toneCook,n.toneCrumb,t,!0,"/",o),sj_cook.set(n.toneCook,n.toneOptsCrumb,h,!0,"/",o),sj_cook.set(n.userCook,n.hasSetToneCrumb,"1",!0,"/",null)):(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,h,!0,"/",null)));f.hasOwnProperty(t)&&(u=nu(CIB.config.sydney.request.optionsSets,Object.keys(f)),u!==-1?s&&f[t]===""?(pt=u,CIB.config.sydney.request.optionsSets.splice(u,1)):CIB.config.sydney.request.optionsSets[u]=f[t]:s?e(CIB.config.sydney.request.optionsSets,f[t],pt):e(CIB.config.sydney.request.optionsSets,f[t]),CIB.config.sydney.request.optionsSets=ot(CIB.config.sydney.request.optionsSets,t,a),a=t,bt(a))}function bs(){var u,f,e,o=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,s;o&&!ir&&(ir=!0,o&&(t=n.getCookieTone(),t!=null&&t!=n.BALANCED_TONE&&(i=CIB.manager.conversation._lastMessage,s=(e=(f=CIB===null||CIB===void 0?void 0:CIB.config)===null||f===void 0?void 0:f.greeting)===null||e===void 0?void 0:e.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=s,n.SydLog(r.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function dr(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1);n&&!r&&(CIB.config.speech.language=n,e(CIB.config.sydney.request.optionsSets,"cdxslang"))}function ks(){var n=new Date;return n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),(n.getTime()-(new Date).getTime())/6e4}function ot(n,t,i){return i===void 0&&(i=""),i!=""&&c.hasOwnProperty(i)&&(n=ds(n,c[i])),t!=""&&c.hasOwnProperty(t)&&c[t].forEach(function(t){e(n,t)}),n}function e(n,t,i){i===void 0&&(i=-1);t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t))}function gr(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function ds(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function nu(n,t){for(var u,r,i=0;i<t.length;i++)if(u=t[i],r=n.indexOf(f[u]),r>=0)return r;return-1}function gt(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function gs(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+o(r)+":"+o(u):t>0?i="-"+o(r)+":"+o(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return o(s)+"-"+o(e)+"-"+o(f)+"T"+o(h)+":"+o(c)+":"+o(l)+i}function o(n){return n<10?"0"+n:n}function h(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t,i){var r,u,f;return(i===void 0&&(i=null),f=(u=(r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableFilterConvConfigs)!==null&&u!==void 0?u:!1,f&&i!=null&&typeof n=="undefined")?i:typeof n!="undefined"?n:t}function nh(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),i;return f.hasOwnProperty(n)&&(i=nu(t,Object.keys(f)),i!==-1&&(t[i]=f[n]),t=ot(t,n,a)),t}function th(){var t,r=n.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableChatPageCookieBannerFix,!1),i;return r?(i=_ge("bnp_cookie_banner"),i&&_w&&_w.getComputedStyle(i).display!=="none"):!1}function i(n,i,r,u){var e,o,s,h,c,f,l,a,v,y,p;u===void 0&&(u=null);f=[];l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1);l&&f.push("IsBizChat",l.toString());a=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);a&&f.push("IsBCE",a.toString());v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);y=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForStudents,!1);v&&f.push("IsBCSFaculty","true");y&&f.push("IsBCSStudent","true");p=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableTelemetryPrivacy,!1);p&&(u=ih(u));u==null?(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r],f,!1)),ni.apply(void 0,__spreadArray([n,i,r],f,!1))):(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1)),ni.apply(void 0,__spreadArray([n,i,r,"CustomData",JSON.stringify(u)],f,!1)))}function ni(n,i,u){for(var v,y,s,f,h,c,l,e,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableCompliantLogger,!1);typeof MsbSydneyHelper!="undefined"&&v&&n===r.Interaction&&((f=MsbSydneyHelper.compliantLog)===null||f===void 0?void 0:f.call.apply(f,__spreadArray([MsbSydneyHelper,n,i,"Namespace",u],a,!1)),y=(l=(c=(h=CIB.manager)===null||h===void 0?void 0:h.conversation)===null||c===void 0?void 0:c.messages)===null||l===void 0?void 0:l.filter(function(n){return n.author==="user"}).length,i==="ConversationViewEnter"&&y>0&&((e=MsbSydneyHelper.compliantLog)===null||e===void 0?void 0:e.call.apply(e,__spreadArray(__spreadArray([MsbSydneyHelper,n,"UserMessageRendered","Namespace","CompliantLog"],a,!1),["CustomData",""],!1))))}function ih(n){return n?(he.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=vt);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=vt);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=vt)}),n):n}function tu(n,t,u){i(r.Interaction,n,t,u)}function rh(){var i,r,u;history&&(n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.initialBackButtonFix,!1),r&&iu(!1),sj_be(_w,"popstate",function(i){var f,e,o,s,h,c,l,a,v,y,p,w,r,u;n.enableBingChatPath=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableBingChatPath,!1);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);var nt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableNotebookMode,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBackFromNotebook,!1,!0),tt=nt&&b&&_G[n.SYD_MODE]==="notebook";if(bi=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isCopilotChat,!1),n.enableConvModeSwitchAjax)if(r=_w._currentRoute,_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search},n.enableBingChatPath){if(u=_ge("sb_form_q"),st((c=_w._currentRoute)===null||c===void 0?void 0:c.search)!=(u===null||u===void 0?void 0:u.value)&&(_w._isConvAjaxUpdated||((a=(l=_w._currentRoute)===null||l===void 0?void 0:l.state)===null||a===void 0?void 0:a.ajaxserp)===!0)){var k=_w.location,d=k.href,g=d.indexOf("/search");if(g>=0){window.location.reload();return}}}else{if(tt){sj_evt.fire("switchToConversation");sj_evt.fire("showSydFSC",undefined,undefined,undefined,!0);return}if(st(r===null||r===void 0?void 0:r.search)!=st((v=_w._currentRoute)===null||v===void 0?void 0:v.search)&&(_w._isConvAjaxUpdated||((p=(y=_w._currentRoute)===null||y===void 0?void 0:y.state)===null||p===void 0?void 0:p.ajaxserp)===!0)){var k=_w.location,d=k.href,g=d.indexOf("/search");if(g>=0){window.location.reload();return}}}((w=i===null||i===void 0?void 0:i.state)===null||w===void 0?void 0:w.inConvMode)?_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):b&&_G[n.SYD_PREV_MODE]==="notebook"&&sj_evt.fire("showNotebook"):bi||!(i===null||i===void 0?void 0:i.state)||i.state.inConvMode||_G[n.SYD_MODE]!="conversation"||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams&&(u=new URLSearchParams(window.location.search),tr=u.get("showconv")==="1"))}function iu(u){var f,e,o,s,h,c,l=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),a=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableDynamicFormCode,!1),v=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.initialBackButtonFix,!1);if(n.enableBingChatPath=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBingChatPath,!1),history){if((tr||l)&&rt&&u){rt=!1;history.replaceState({inConvMode:u},document.title||"");n.enableConvModeSwitchAjax=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","replace",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search});l&&(_w._chatRoute=_w.location.pathname);return}if(v&&rt&&!u){rt=!1;history.replaceState({inConvMode:u},document.title||"");return}nr?ru(u):n.enableBingChatPath?l&&a?sj_evt.bind("ConvModeNavigate",function y(n){var t=n&&n.length>1?n[1]:null;uu(u,t);sj_evt.unbind("ConvModeNavigate",y)}):uu(u,null):(history.pushState({inConvMode:u},document.title||""),n.enableConvModeSwitchAjax=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableConvModeSwitchAjax,!1),i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u}),n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}))}}function ru(u){var f,e,s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToggleChatSearch,!1),o=new URL(window.location.href);s&&(o.pathname=u?"/chat":"/search");o.searchParams.set("showconv",u?"1":"0");history.pushState({inConvMode:u},w(u),o);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}function uh(){var t,n=new URL(window.location.href);((t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk"))||(n.searchParams.append("showntbk","1"),history.pushState({inConvMode:!0},w(!0),n))}function fh(){var t,n=new URL(window.location.href),i=(t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk");i==="1"&&(n.searchParams["delete"]("showntbk"),history.replaceState({inConvMode:!0},w(!0),n))}function uu(u,f){var e,o,h=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isMobileHost,!1);if(!h){var s=_ge("sb_form_q"),c=_ge("sb_form"),l=_w._chatRoute||"/chat",a=u?l:"/search";history.pushState({inConvMode:u},w(u),a+"?q="+encodeURIComponent(f||(s===null||s===void 0?void 0:s.value)||"Bing AI")+eh(c));n.enableConvModeSwitchAjax=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}}function eh(n){var r="",i,t,u;if(!n)return r;for(i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return u=_w._ncpformCode||(_w._isConvAutoHide?"ATCVAJ":"CONVAJ"),r+"&form="+u}function w(n){return v&&it?n?v:it:document.title}function oh(n){var i;v=t((i=_w._sydConvTranslation)===null||i===void 0?void 0:i.pageTitleText,"");v&&it&&(document.title=w(n))}function sh(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function hh(){function k(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=rt,sj_evt.unbind("rewready",k))}}var i,r,u,f,e,o,s,h,c,l,a,v,d=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!1,!0),g=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),nt=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enablePanelTransition,!1),w,b,y,p;if(!nt)CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");CIB.config.sydney.request.scenario==="SERP"&&br();break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(d&&(w=_ge("b_sydTigerCont"),w)){b=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",b?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});y=_ge("sb_form_q");y&&(CIB.config.sydney.slottedModeTurnIndex=vu()&&((o=(e=(f=CIB===null||CIB===void 0?void 0:CIB.vm)===null||f===void 0?void 0:f.conversation)===null||e===void 0?void 0:e.turns)===null||o===void 0?void 0:o.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=y.value.toLowerCase().trim())}g&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var tt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.codexMUIDUser,!1),it=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableSigninTurnFix,!0),rt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.maxTurnsPerConversation,at);if(tt&&it&&sj_evt.bind("rewready",k,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,gi):Lib.CssClass.remove(t,gi))});var ut=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableThreads,!1),ft=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.isAccountLinkedWithActiveAAD,!1),et=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFixBCEGPTHeader,!1);ut||!ft||et||(p=_qs("body"),p&&Lib.CssClass.add(p,ce))}function ch(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text.trim()===c}))?c:""}function ti(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function lh(n){CIB.processCachedResponse(n)}function fu(n,t,i,r,u,f,e,o){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);o===void 0&&(o=!0);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e,!1,!1,o)}function st(n){var r=new RegExp("[?&]{1}q=([^&]+)"),t=n.match(r),i=t?t[1]:null;return i?decodeURIComponent(i.replace("+"," ")):""}function b(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?st(_w.location.search):(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function ah(){var t=new URLSearchParams(_w.location.search),i=t.get(ci);i&&(n.lastQuery=b().toLowerCase().trim())}function eu(n,t,i,r,u,f,e){var s,o,h;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!0);s="";t&&(s=b());o=i;o||(h=_d.querySelector(".b_ans #b_wpt_data"),h&&(o=h.getAttribute("data-sydctx")));fu(n,o,s,r,!1,u,f,e)}function vh(n,t,i){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i=!0);var r=b();eu(r,!1,n,t,!1,!0,i)}function yh(t){n.isSydFSCEligible=t}function ph(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function wh(){sj_evt.fire("clarity.trigger","cibChat")}function bh(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==b().toLowerCase().trim())}function kh(t,i){var l,a,v,y,p,w,b,k,it,o,d,u,e,s,tt,ht,h,ct,r,c,lt,at,vt,yt;i===void 0&&(i=!1);it=n.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSydCarouselHistory,!1);ou();var f=sj_ce("div","b_metaCont"),rt=sj_ce("div","b_metaCont_Title"),pt=n.getConfigOrDefault((a=_w._sydConvTranslation)===null||a===void 0?void 0:a.sydneyCarouselTitle,"");rt.textContent=pt;f.appendChild(rt);o=sj_ce("div","b_meta_bot");f.appendChild(o);d=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");i?u.appendChild(d):o.appendChild(d);o.appendChild(u);var ut=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.carouselQueries,""),wt=n.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.sydCarPropQuery,!1),ft=ut?ut.split(","):null,g=ft?ft:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text&&n.text!="Generating answers for you..."}).map(function(n){var i,r,t=(r=(i=n.text)===null||i===void 0?void 0:i.split("`"))!==null&&r!==void 0?r:[];return t.length==1?t[0]:t.length==3?t[1]:""}).filter(function(n){return n}),et=0,bt=i?_w.innerWidth-ei-bf:wf,kt=_w.innerWidth-ei-oi,ot=!i,st=bt-oi,dt=CIB.vm.conversation.model._id,nt=!0;for(e=g.length-1;e>=0;e--)s=g[e],nt&&(tt=dh(s)+2*kf+df,et+tt<st?et+=tt:ot?(nt=!1,ht=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+ht.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(st=kt,ot=!0)),ct="cdxche",r=sj_ce("a",null,"b_metaCont_Pill"+(nt?"":" b_hide")),r.href=_w.location.origin+_w.location.pathname+"?q="+s+"&form="+ct,it&&(r.href=r.href+"&convid="+dt),wt&&(r.href=r.href+"&features=sydcarousel,sydcpropq"),r.textContent=s,r.target="_blank",sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})}),u.appendChild(r);c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((p=_w._sydConvTranslation)===null||p===void 0?void 0:p.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);g.length>0&&(lt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.suppressAlsoTryWhenEnableSydCarousel,!1),lt&&ti("b_alsotry"),at=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.suppressPoleRSWhenEnableSydCarousel,!1),at&&ti("brspole"),vt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),vt&&ti("polerecommendedsearch"),t.children.length>0?(yt=_w.getComputedStyle(t,null),yt.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),sj_evt.fire(te))}function dh(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function ou(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function gh(){var n,t,i;((t=(n=CIB.config)===null||n===void 0?void 0:n.knowledgeCards)===null||t===void 0?void 0:t.query)&&(CIB.config.knowledgeCards.query.IG=_G.IG,CIB.config.knowledgeCards.query.IID=(i=_ge("b_sydConvCont"))===null||i===void 0?void 0:i.getAttribute("_iid"))}function su(){var n,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isUnderside,!1),r,i;return u?_w.matchMedia("(prefers-color-scheme: dark)").matches:(r=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","DM"),i=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","WEBTHEME"),i=="1"||i=="2"&&r=="1")}function ii(n,i,r){var f,e,o,s,h,c,l,a,v,y,p,w,b=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.disable2TSearchHistory,!1,!0),g=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enable2TTest,!1),k=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enable2TResizeUpdate,!1,!0),u=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isMobileHost,!1),d=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enable2TThemeCheck,!1);((l=(c=CIB===null||CIB===void 0?void 0:CIB.config)===null||c===void 0?void 0:c.answers)===null||l===void 0?void 0:l.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(a=_ge("b_sydConvCont"))===null||a===void 0?void 0:a.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,b&&(CIB.config.answers.query.dissrchswrite="1"),k&&sj_be(_w,"resize",function(){CIB.config.answers.query.cw=ct(u);CIB.config.answers.query.ch=ht(u)}),d&&(su?CIB.config.answers.query.darkschemeovr="1":CIB.config.answers.query.lightschemeovr="1"));((y=(v=CIB===null||CIB===void 0?void 0:CIB.config)===null||v===void 0?void 0:v.ads)===null||y===void 0?void 0:y.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(p=_ge("CodexAdsInstLink"))===null||p===void 0?void 0:p.getAttribute("_iid"):(w=_ge("b_sydConvCont"))===null||w===void 0?void 0:w.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,CIB.config.ads.query.form="codexx",b&&(CIB.config.ads.query.dissrchswrite="1"),k&&sj_be(_w,"resize",function(){CIB.config.ads.query.cw=ct(u);CIB.config.ads.query.ch=ht(u)}),d&&(su?CIB.config.ads.query.darkschemeovr="1":CIB.config.ads.query.lightschemeovr="1"));g&&SydneyTestHelper.set2TTestConfigs()}function nc(n,t){var i=ct(n),r=ht(n);if(n)try{ii(i,r,t)}catch(u){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else ii(i,r,t)}function ht(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enable2TQueryConfigsOnSerpLoad,!1);return n?ClientObserver?ClientObserver.getBrowserHeight():vr():r?ClientObserver?ClientObserver.getBrowserHeight():Math.round(_d.documentElement.clientHeight||_w.innerHeight):ClientObserver.getBrowserHeight()}function ct(i){var r,f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enable2TQueryConfigsOnSerpLoad,!1),u;return i?(u=ClientObserver?ClientObserver.getBrowserWidth():ar(),u-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:u-n.padding2TMobile):f?ClientObserver?ClientObserver.getBrowserWidth():Math.round(_d.documentElement.clientWidth||_w.innerWidth):ClientObserver.getBrowserWidth()}function hu(n){var i,r,u,f,e;n===void 0&&(n={autoSubmit:!1});r=cu();r&&CIB.addMessageWithData&&(u=t(!!((i=_w._sydConvConfig)===null||i===void 0?void 0:i.himgdirmsg),!0),f=decodeURI(r),typeof SydneyImageKnowledgeTestUtils!="undefined"&&(f=SydneyImageKnowledgeTestUtils.prepareMockedImageUrl()),e=[{type:"url",data:f}],n.autoSubmit&&!!n.isFirstMessage&&!!n.query&&CIB.sendSearchQueryWithData?CIB.sendSearchQueryWithData(n.query,{images:e},{hideImageInUserMessage:u}):CIB.addMessageWithData({text:n.query||"",images:e},n.autoSubmit,"",{hideImageInUserMessage:u}))}function tc(u,f,e,o,s,h){var v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,c,l,ft,a,ot,st;if(s===void 0&&(s=!1),h===void 0&&(h=!0),rt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSydContext,!1,!0),ut=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSQMsg,!1,!0),n.enableConvModeSwitchAjax=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableConvModeSwitchAjax,!1),i(r.System,"TrySendingFirstQueryToChat","SerpToChatTransition",{}),!au(u,s))return!1;if(o&&n.enableConvModeSwitchAjax){if(n.isSmoothConvSwitchUpdatedPage())return!1;try{if(c=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),c&&c.length>0&&(l=c[c.length-1].text.split("`"),ft=l.length==1?l[0]:l.length==3?l[1]:"",ft.toLowerCase()==u.toLowerCase()))return!1}catch(yt){}}a=[];e&&a.push({author:"user",text:e});f&&a.push({author:"bot",text:f});rt&&a.length!=0&&CIB.registerContext(a);var ht=(b=(w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableSunoWelcomeMessage)!==null&&b!==void 0?b:!1,ct=(d=(k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableSunoUpsell)!==null&&d!==void 0?d:!1,lt=(nt=(g=_w._sydConvConfig)===null||g===void 0?void 0:g.isMSAAuthenticated)!==null&&nt!==void 0?nt:!1,et=n.getConfigOrDefault((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableScrollMsgTextMessage,!1,!0),at=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),vt=at.get("enablesuno")==="1";return ct&&ht&&lt&&vt&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?(u=t((it=_w._sydConvTranslation)===null||it===void 0?void 0:it.sunoCachedMessage,u),CIB.addMessage(u)):ut&&o&&(!et||h)&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?lu(u,!0):(i(r.Interaction,"TranistionToChatWithQuery","SerpToChatTransition",{}),et&&!h&&(ot=typeof sessionStorage!="undefined",st="isMessageIntentional",ot&&(sessionStorage===null||sessionStorage===void 0?void 0:sessionStorage.setItem(st,JSON.stringify(!1)))),lu(u,!1)),n.lastQuery=u,n.firstQuery.length==0&&(n.firstQuery=u),!0}function ic(){return CIB.config.features.enablePartnerVisualSearchUpload&&CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot}function cu(){var n,i=new URLSearchParams(_w.location.search),t=(n=i.get(ui))!==null&&n!==void 0?n:typeof SydneyTestHelper!="undefined"?SydneyTestHelper.getParamFromUrl(ui):null;return t!==null&&t!==void 0?t:undefined}function rc(){return{imageUrl:cu()}}function lu(n,t){if(ic()){var i=rc();if(i.imageUrl){hu({query:n,isFirstMessage:t,autoSubmit:!0});return}}t?CIB.sendSearchQuery(n):CIB.addMessage(n)}function au(n,u){var f,e,o,s,l;if(uc(n)||fc())return!1;var h=et("showconv"),c=et("sendquery"),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),v=h==="1"||a;return v&&c==="1"||u?!0:h==="1"&&c!=="1"?!1:(s=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.initialShowConvPresent,!1),l=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.disableChatQueryForShowConv,!1,!0),s&&i(r.System,"InitialShowConvPresent","SerpToChatTransition","1"),l&&s)?!1:!0}function uc(t){return!t||t==n.lastQuery||t==n.firstQuery}function fc(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.bypassConsentCheck,!1),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!1,!0),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),h=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length,c=e||o||s;return c&&!yt&&!kr()&&!(f||h<1)}function ec(n){var i=n.dataset.codexads,r,t;return i?(r=n.querySelector(".sb_add > h2 > a"),t=JSON.parse(i),r&&(t===null||t===void 0?void 0:t.length)>0&&(t[0].kappns=r.getAttribute("h")),i=JSON.stringify(t),i?i:""):""}function ri(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function oc(n){return ri(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function sc(n){var f,e,o,i,r;return n?(o="Search for {0}. Impress me with a great response that helps me complete my most likely intent while showing the smartness, depth, and beauty (bolding, tables, and citations) you can produce. Satisfy my intent as early as possible in the response.",i=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.tigerEnhancedPromptTemplate,u,o),!i)?n:(i=i.replace("{0}",n),r=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function vu(){var n,i,r,u=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDynamicFormCode,!1),e=f?!!_w._ncpformCode:((i=u.get("form"))===null||i===void 0?void 0:i.toLowerCase())==="convaj"||((r=u.get("form"))===null||r===void 0?void 0:r.toLowerCase())==="atcvaj";return u.has("form")&&e&&_w._isConvAjaxUpdated}function hc(){var n=_ge("noSerp");return n&&Lib.CssClass.contains(n,"initSerp")}function cc(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function lc(){var n,t,i,r,u,f,e=(f=(u=(r=(i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-welcome-container"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector(".muid-upsell");e&&(e.style.display="none")}function ac(){var t,i,n=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),r,u;(n===null||n===void 0?void 0:n.shadowRoot)&&(r=n.shadowRoot.querySelector(".scroller"),r&&(u=r.querySelector(".fade.top"),u&&(u.style.display="none")))}function vc(){var r,u,f;wt=__spreadArray([],CIB.config.sydney.request.optionsSets,!0);var e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookTurbo,!1),i=n.getAllowedToneOptionsSets(e?n.CREATIVE_TONE:n.PRECISE_TONE),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.threadsAutoSaveOptionset,k),s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableNotebookThreads,!1);s||(i=i.filter(function(n){return n!==o}));fr.forEach(function(t){n.addOptionSet(i,t)});CIB.config.sydney.request.optionsSets=i;CIB.showNotebook&&CIB.showNotebook();_G[n.SYD_PREV_MODE]=_G[n.SYD_MODE];_G[n.SYD_MODE]="notebook"}function yc(){CIB.config.sydney.request.optionsSets=__spreadArray([],wt,!0);var t=n.getAllowedToneOptionsSets(CIB.responseTone);CIB.config.sydney.request.optionsSets=t}function pc(){var n;return __awaiter(this,void 0,void 0,function(){var i,u,r;return __generator(this,function(f){switch(f.label){case 0:return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enable1pGptsApi,!1)?(r={},[4,FreeSydneyHelper.get1pGptsFromApi()]):[3,2];case 1:return i=(r.freeSydneyPersonaModels=f.sent(),r),[3,4];case 2:return[4,nl()];case 3:u=f.sent();i={freeSydneyPersonaModels:__spreadArray(__spreadArray([],FreeSydneyHelper.getFreeSydneyPersonasData().freeSydneyPersonaModels,!0),u,!0)};f.label=4;case 4:return CIB.setFreeSydneyData&&CIB.setFreeSydneyData(i),[2]}})})}function wc(){var n=FreeSydneyHelper.getFreeSydneyPersonasData();return n&&n.freeSydneyPersonaModels.length>0?n.freeSydneyPersonaModels[0]:null}function bc(n,t,r){if(r===void 0&&(r=!1),CIB===null)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"CIB element not found"}),!1;var u=_ge(ae),f=r?_qs(ye):_qs(or);return u===null||f===null?(i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):dc(n,f,u,t)}function kc(n){if(CIB===null)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"CIB Element not found"}),!1;var t=_ge("b_chat_external_answer_cards_content"),r=_qs(or);return t===null||r===null?(i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):gc(r,t,n)}function lt(n){if(!n)return null;for(var t=n.parentNode;t;){if(t instanceof ShadowRoot)return t;t=t.parentNode}return null}function dc(n,t,r,u){var a,v,y,p,w,b,g=n==="cib-message"&&!!u,k,d,s,f,e,h,nt,o,c,l,tt;if(k=g?(y=(v=lt((a=_w._sydExtResSlots)===null||a===void 0?void 0:a.get(u)))===null||v===void 0?void 0:v.host)!==null&&y!==void 0?y:undefined:(p=t===null||t===void 0?void 0:t.shadowRoot)===null||p===void 0?void 0:p.querySelector(n),!k)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Destination element not found"}),!1;for(d=r.getElementsByClassName(ve),s=0;s<d.length;s++){if(f=d[s],e=k,!f){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(h=f.getAttribute("slot"),h===null){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(nt=1,o=h;e.tagName.toLowerCase()!==sr;)c=sj_ce("slot"),c.setAttribute("slot",o),o="".concat(h,"-").concat(nt++),c.setAttribute("name",o),e.appendChild(c),e=(b=(w=lt(e))===null||w===void 0?void 0:w.host)!==null&&b!==void 0?b:t;f.setAttribute("slot",o);t.appendChild(f);f.classList.remove(hr);l=ec(f);f.removeAttribute("data-codexads");tt=f.dataset.query;f.removeAttribute("data-query");g?_w.postMessage({type:"AnswerCardDimensionUpdate",data:{type:"ADS",iframeid:u,height:f.clientHeight,width:f.clientWidth,hasCarousel:!1,isFullWidth:!1,query:tt,context:l?l:{}}},"*"):_w.postMessage({eventId:pe,adsContext:l,width:f.clientWidth,height:f.clientHeight},"*")}return!0}function gc(n,t,r){var c,l,a,v,y,p,w=(a=(l=lt((c=_w._sydTwoTPlusResSlots)===null||c===void 0?void 0:c.get(r)))===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:undefined,o,u,f,s,b,e,h;if(!w)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Destination element not found"}),!1;for(o=0;o<((v=t.children)===null||v===void 0?void 0:v.length);o++){if(u=t.children.item(o),f=w,!u){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(s=u.getAttribute("slot"),s===null){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(b=1,e=s;f.tagName.toLowerCase()!==sr;)h=sj_ce("slot"),h.setAttribute("slot",e),e="".concat(s,"-").concat(b++),h.setAttribute("name",e),f.appendChild(h),f=(p=(y=lt(f))===null||y===void 0?void 0:y.host)!==null&&p!==void 0?p:n;u.setAttribute("slot",e);n.appendChild(u);u.classList.remove(hr)}return!0}function nl(){var n;return __awaiter(this,void 0,void 0,function(){var i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return(i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAIPersonasForDesktop,!1),!(i&&typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler))?[3,2]:(r=_w._sydConvTranslation,[4,PersonaGPTHandler.getPersonas()]);case 1:return u=e.sent(),f=u.map(function(n){return{id:n.topic,type:n.topic,name:n.personaTitle,displayName:n.personaTitle,icon:n.smallImageUrl,avatarImageUrl:n.avatarImageUrl,description:n.shortDescription,extraOptionsSets:n.optionsSets,supportedTones:n.supportedTones,defaultTone:n.defaultTone,showThreads:!1,welcomeHeader:n.description,welcomeTiles:n.suggestions.map(function(n){return{category:"chat",text:n.text,title:r.freeSydneyWelcomeTilesChatTitle,size:"medium"}})}}),[2,f];case 2:return[2,[]]}})})}var yu="sydneyOptionsSets",pu="codexFeatures",wu="speechSrOptions",ui="imgUrl",bu="https://bing.com/new",ku="desktop",du="/turing/copilot/builder",fi="/search",gu="bingchat",nf="chat",tf="iycapbing,iyxapbing,prjupy",rf="https://sydney.bing.com",uf="https://copilot.microsoft.com",ff="https://www.bing.com",k="autosave",u="",ci,d;n.CREATIVE_TONE="Creative";n.BALANCED_TONE="Balanced";n.PRECISE_TONE="Precise";var at=5,ef=2,l=2e3,sf=1e6,hf=15e6,cf=1e7,lf=300,af=5,vf=1,yf=[],pf=[],wf=750,ei=48,bf=42,kf=16,df=6,oi=60,si=66,gf=1e3,ne="so_bing_chat",hi="seltone",te="SydAddCarousel";n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;ci="shareId";n.userCook="SRCHHPGUSR";n.toneCook="CDXTC";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";d="InitialTone";n.hasSetToneCrumb="cdxts";var ie="crtone",re="cdxwinturn",ue="ADLT",g="MUID",li="CMUID",fe="BCTTSOS",ai="VSRO",ee="VSVN",vi="BFBUSR",oe="CMUIDBCE",yi="CIBV",pi="BCML",wi="BCMLNCount",nt=!1,bi=!1,ki="BCRO",di="BCRONCount",tt=!1,se="BCSRLANG",he=["chips","query","searchQuery","text"],vt="<stripped/>",gi="cdxModalVisible",ce="aad",v="",it=document.title||"",nr=!1,tr=!1,rt=!0,y=li,p=!1,yt=!1,le=3,r={System:"SystemEvent",Interaction:"InteractionEvent"},f={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},ut={c:"Creative",b:"Balanced",p:"Precise"},c={Creative:[],Balanced:[],Precise:[]},a="",ir=!1,s=!1,rr=!1,pt=-1,ur="",wt,fr=[],er="",ft={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"},ae="b_chat_external_content",ve="b_cib_ext",or='cib-serp[serp-slot="none"]',sr="cib-serp",ye='cib-serp[serp-slot="right-rail"]',hr="b_hide",pe="adInjectionComplete";n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.enableConvModeSwitchAjax=!1;n.enableBingChatPath=!1;n.setConfigs=we;n.setTestConfigs=cr;n.setColorScheme=to;n.getMobileBrowserWidth=ar;n.getMobileBrowserHeight=vr;n.prefetchTranslationStrings=io;n.setConvTranslationAsync=ro;n.setTigActiveSuggestionChipText=ss;n.getTigActiveSuggestionChipText=hs;n.getCookieTone=kt;n.updateResponseToneAfterSerp=bs;n.setSpeechLanguageConfig=dr;n.addOptionSet=e;n.removeOptionSet=gr;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=nh;n.isCookieBannerVisibileOnChatPage=th;n.SydLog=i;n.CompliantLog=ni;n.LogIntEvent=tu;n.setupHistory=rh;n.pushSydHistory=iu;n.updateConvFlagInURL=ru;n.addNotebookFlagInURL=uh;n.deleteNotebookFlagInURL=fh;n.updateConvPageTitle=oh;n.checkInitialState=sh;n.setEventListeners=hh;n.getActiveSuggestionChipText=ch;n.processCachedResponseUsingCIB=lh;n.triggerSydFSC=fu;n.getQuery=b;n.triggerShareFlow=ah;n.triggerSydFSCWithContext=eu;n.triggerSydFSCQueryWithContext=vh;n.setSydFSCEligibleState=yh;n.sydPayWallTrace=ph;n.triggerClarity=wh;n.shouldMove1TAnswers=bh;n.addCarousel=kh;n.removeQueries=ou;n.set2TQueryConfigs=ii;n.retrieveSydneyFSCClientHeight=ht;n.retrieveSydneyFSCClientWidth=ct;n.submitVisualSearchImage=hu;n.sendFirstQuery=tc;n.shouldSendQuery=au;n.createRequest=ri;n.getJsonData=oc;n.createIntelligentQuery=sc;n.isSmoothConvSwitchUpdatedPage=vu;n.isFirstAjaxSerp=hc;n.updateChatBackgroundWidth=cc;n.hideSignInUpsellFor3P=lc;n.hideTopFade=ac;n.setNotebookOptions=vc;n.setDefaultOptions=yc;n.setFreeSydneyData=pc;n.getDefaultFreeSydneyData=wc;n.injectExternalAd=bc;n.injectAnswerCard=kc;sj_evt.fire("SydFSCHelperLoaded")})(SydFSCHelper||(SydFSCHelper={}))